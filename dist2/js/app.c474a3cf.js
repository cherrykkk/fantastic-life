(function(t){function e(e){for(var a,c,s=e[0],o=e[1],u=e[2],l=0,h=[];l<s.length;l++)c=s[l],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&h.push(i[c][0]),i[c]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);f&&f(e);while(h.length)h.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,c=1;c<n.length;c++){var s=n[c];0!==i[s]&&(a=!1)}a&&(r.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},c={app:0},i={app:0},r=[];function s(t){return o.p+"js/"+({}[t]||t)+"."+{"chunk-1ea89ad9":"53ce6fa7","chunk-63a0f3e7":"8dfd2bc5","chunk-a3d58024":"54e188bb","chunk-30b757c7":"381ec20b","chunk-3ccfda08":"697916b8","chunk-41eb030d":"b42e1130","chunk-51d33103":"2a53a94a","chunk-5b5d640f":"f6f119b2","chunk-602af4f8":"65b161ee","chunk-631a4b25":"996e717b","chunk-8b3ae718":"16a158b7","chunk-9cc0d25a":"889f0849","chunk-b9b3032a":"090fecd6","chunk-e027ff08":"5803c559"}[t]+".js"}function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(t){var e=[],n={"chunk-63a0f3e7":1,"chunk-a3d58024":1,"chunk-30b757c7":1,"chunk-3ccfda08":1,"chunk-41eb030d":1,"chunk-51d33103":1,"chunk-5b5d640f":1,"chunk-602af4f8":1,"chunk-631a4b25":1,"chunk-8b3ae718":1,"chunk-9cc0d25a":1,"chunk-b9b3032a":1,"chunk-e027ff08":1};c[t]?e.push(c[t]):0!==c[t]&&n[t]&&e.push(c[t]=new Promise((function(e,n){for(var a="css/"+({}[t]||t)+"."+{"chunk-1ea89ad9":"31d6cfe0","chunk-63a0f3e7":"64ce8fc4","chunk-a3d58024":"8292f59d","chunk-30b757c7":"88316010","chunk-3ccfda08":"b59cee54","chunk-41eb030d":"745e60b8","chunk-51d33103":"d8c51200","chunk-5b5d640f":"c366d68b","chunk-602af4f8":"a58c7b75","chunk-631a4b25":"76742055","chunk-8b3ae718":"b3133ac0","chunk-9cc0d25a":"78f334c1","chunk-b9b3032a":"b7483a83","chunk-e027ff08":"376e65d0"}[t]+".css",i=o.p+a,r=document.getElementsByTagName("link"),s=0;s<r.length;s++){var u=r[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===i))return e()}var h=document.getElementsByTagName("style");for(s=0;s<h.length;s++){u=h[s],l=u.getAttribute("data-href");if(l===a||l===i)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var a=e&&e.target&&e.target.src||i,r=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=a,delete c[t],f.parentNode.removeChild(f),n(r)},f.href=i;var b=document.getElementsByTagName("head")[0];b.appendChild(f)})).then((function(){c[t]=0})));var a=i[t];if(0!==a)if(a)e.push(a[2]);else{var r=new Promise((function(e,n){a=i[t]=[e,n]}));e.push(a[2]=r);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=s(t);var h=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(f);var n=i[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),c=e&&e.target&&e.target.src;h.message="Loading chunk "+t+" failed.\n("+a+": "+c+")",h.name="ChunkLoadError",h.type=a,h.request=c,n[1](h)}i[t]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var h=0;h<u.length;h++)e(u[h]);var f=l;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"064d":function(t){t.exports=JSON.parse('[["打猎-成果-狐狸","今日出门打猎，收获狐狸一只",1113],["打猎-成果-空手而归","今日出门打猎，没有猎物上钩啊",1114],["打猎-成果-兔子","今日出门打猎，收获兔子一只",1115],["负责举办升仙大会","负责举办SECT的升仙大会",1116],["工作-看病","A替B看病",1182],["工作-田间劳作","A在田里劳作，挥汗如雨。",1181],["亲事-承-被拒绝","A被B拒绝了。",1119],["亲事-承-被同意","B告诉A，ta愿意与A成亲。",1120],["亲事-承-拒绝-冷漠","A回绝了B的求亲，表示这事没什么好商量的。",1121],["亲事-承-拒绝-婉拒-好人卡","A对B说：”A是个好人，谢谢A。但是不行。“",1122],["亲事-承-拒绝-婉拒-女性限定","B看着A，温柔道：”郎君美意，奴家心领了。”然后关上了家门。",1123],["亲事-承-拒绝-已成家","B对A说：“是不是哪里出了点毛病？或者也许是A不知道，我已经有家庭了。”",1124],["亲事-承-应允","A对B说：“我愿意的。“遂与之约定良辰吉日。",1125],["亲事-合-成亲-男方","A骑上高头大马，把B娶进了家门。",1126],["亲事-合-成亲-女方","A披上红妆，登上花轿，被B娶进了家门。",1127],["亲事-起-被求亲","B来到A家，向A求亲了。",1128],["亲事-起-发起方","A鼓起勇气，上门去向B求亲。",1129],["人际-被人拜访","B上门拜访A，A便好好招待了对方一番。",1130],["人际-斥责他人","A这个毛病什么时候能纠正过来！",1131],["人际-初见-搭话-规则模板-被动","B朝A拱手说道，CONTENT",1132],["人际-初见-搭话-规则模板-主动","A朝B拱了供手，开口道，CONTENT",1133],["人际-初见-搭话-来处","“之前似乎未见过A，A从何处来的？”",1165],["人际-初见-搭话-气宇轩昂","“我观阁下气宇轩昂，定是人中龙凤，不如一起去喝杯东西交流一下？”",1134],["人际-初见-结交","我很欣赏小兄弟的为人，今后A就是我的朋友！",1135],["人际-初见-结交","与x兄这样的侠士结交，是我的荣幸！",1136],["人际-初见-邻里","A觉得B有些面熟，觉得对方可能是住在自己附近。",1137],["人际-看望","前去看望了B。",1178],["人际-吐槽-抱怨","忍不住抱怨了一下生活中的不如意。",1138],["人际-吐槽-规则模板","B与A吐槽，CONTENT",1139],["人际-吐槽-想要娶媳妇","\\"我都这么大了，何时才能娶上媳妇啊。“",1140],["人际-喜欢的表现","偶遇B，眼神撞到了一块儿，却不知为何，两方都没有立刻回避视线。“我是舍不得。”事后，A默默地回想，”那他呢？“",1153],["人际-闲聊-吃饭","问了问今天吃了啥。",1141],["人际-闲聊-规则模板-被动","B与A闲聊，CONTENT",1166],["人际-闲聊-规则模板-主动","A与B闲聊，CONTENT",1142],["人际-闲聊-合欢宗","天马行空地瞎扯了一番想象中合欢宗的模样。",1167],["人际-闲聊-开怀大笑","谈到兴起之处，同时笑了起来。",1171],["人际-闲聊-秘密","B说，\\"A且靠近些，我告诉A一个秘密。“",1172],["人际-闲聊-求仙","谈起了修仙之类的传说。",1143],["人际-闲聊-天气","谈了谈这几天的天气。",1144],["人际-闲聊-相谈甚欢","气氛融洽，相谈甚欢。",1170],["人际-闲聊-银河","A道：“A说，银河那边真的有仙女吗？”",1169],["散步-规则模板","在附近随意地走了走，散了散心。CONTENT",1145],["散步-看大海","A在海边喊：“啊大海，A全是水！”",1146],["散步-看农田风景","看到农田里种的作物欣欣向荣，驻足欣赏了一会儿",1147],["散步-看天上风景","走在宽阔的田野里，看到天边红霞漫天，心情愉悦了起来。",1148],["散步-巧遇熟人","路上遇见了B，随意聊了几句",1161],["散步-相谈甚欢","与一路人相谈甚欢，问其名，乃B是也。",1162],["散步-星辰","天黑的很快，但黑下来后天上的银河也很美。",1168],["天气-暴雨","今夜外头狂风暴雨，电闪雷鸣，xx独自一人缩在家里，害怕地躲进了被子里",1150],["系统-搬家","搬入了新家",1164],["系统-丰收","大丰收~你收获了D1",1179],["系统-改变地点","从AREA_1去往AREA_2",1163],["系统-割除","A无法收获D1，只能将其割除了。",1180],["系统-获得物品","A获得了D1",1176],["系统-没地方放东西","A没有家哦，D1没地方放，一下子就遗失了。",1175],["系统-欲拿出没能拿出","A欲拿出D1但仓库内没有足够数量的此物品",1177],["系统-种植","A种下了D1的种子",1173],["仙途-报名","A遇到了SECT正在举办升仙大会以广收弟子，于是也报了个名尝试一下。",1154],["仙途-被测灵根","被B测灵根，灵根检测结果为D1",1111],["仙途-表示对方没有修仙资质","A遗憾地表示B没有修炼的资质",1112],["仙途-举办升仙大会","SECT一年一度的升仙大会开始了，A作为负责人前往主持活动",1117],["仙途-萌生求仙之意","闲来无事，A看着飞鸟从天边掠过，突然非常地希望自己也能御风而行。虽然被仙人看上的概览很小，但万一呢自己真的有修仙的天赋呢？",1155],["仙途-失败-灵根未达到该门派要求","A的灵根没有达到SECT的要求",1156],["仙途-失败-没找到仙缘","A在AREA逛了许久，始终寻仙无门，最后悻悻而返",1157],["仙途-收弟子","SECT收B为门下弟子",1149],["仙途-通过检测加入门派","A通过了SECT的测验，加入了该门派",1151],["仙途-突破境界","A成功突破到了D1",1152],["仙途-遇到报名","负责升仙大会时遇到B来报名参与",1174],["心上一女子","那日正要进城门时，忽见一蒙面女子策马而出，带过一阵香风。",1158],["织布-成果","A织出了一匹布。",1159],["织布-缺材料","哎呀，没有能织布的材料了。",1160],[null,null,1183],[null,null,1184],[null,null,1185]]')},"13b7":function(t){t.exports=JSON.parse('{"specialMale":["大牛","二狗","三虎","建军","报国","精忠","天极","忘机","力","壮","劲","俊逸","俊宇","修","擎","宏"],"specialFemale":["落落","洛洛","回雪","四妹","兰溪","兰婷","望兰","秀清","秀琴","纤纤","丽华","海霞","雨荨","田田","天香","丁香","万花","璃","凰","荷","美丽","茉莉","秋水","婷","婧","玲","秀逸","婷婷","绿萝","绿罗","莲","由美"],"single":["安","傲","寒","好","回","海","客","灵","如","若","说","时","檀","细","袭","玉","雨","之","治","庭","桐","佟","童","瞳","寻","讯","先","旬","薰","序","旭","胥","絮","煦","勖","浔","峋","斜","谐","榭","秀","岫","笠","荔","鲤","墨","乔","峤","崎","祁","祺","祈","麒","寒","梨","太","习","戏","凤","辉","慧","桧","荟","绘","贺","禾","赫","亥","秋","水","月","白","衣","淡","竹","停","今","锦","尽","浸","津","谨","瑾","堇","槿","衿","静","景","敬","睛","净","荆","士","晨","义","廷","卿","橘","聚","菊","鸢","向","金","红","楚","雏","玫","苍","凌","鳞","林","临","琳","邻","霖","麟","令","岭","泠","聆","绫","连","廉","恋","怜","逸","初","大","太","方","子","士","思","义","孝","民","永","元","达","柏"],"double":["天机","逍遥","望舒","天罗","天秀","天竺","清云","青云","流月","寒雪","善良","白衣","独秀","都秀","流光","沐秋","岐橘","浮生","默然","墨染","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至","小寒","大寒","轻云","沧海","桑田","景行","行止"],"surname":["赵","钱","孙","李","周","吴","郑","王","冯","陈","褚","卫","蒋","沈","韩","杨","朱","秦","尤","许","何","吕","施","张","孔","曹","严","华","金","魏","陶","姜","戚","谢","邹","喻","柏","水","窦","章","云","苏","潘","葛","奚","范","彭","郞","鲁","韦","昌","马","苗","凤","花","方","俞","任","袁","柳","酆","鲍","史","唐","费","廉","岑","薛","雷","贺","汤","滕","殷","罗","毕","郝","邬","安","常","乐","于","时","傅","皮","卞","齐","康","伍","余","元","卜","顾","孟","平","黄","和"," 穆","萧","尹","邵","湛","汪","祁","毛","禹","狄","米","贝","眀","臧","计","伏","成","戴","谈","宋","茅","庞","熊","纪","舒","屈","项","祝","董","梁","杜","阮","蓝","闵","席","季","麻","强","贾","路","娄","危","江","童","颜","郭","梅","盛","林","刁","钟","徐","邱","骆","高","夏","蔡","田","樊","胡","凌","霍","虞","万","支","柯","昝","管","卢"],"surnamedouble":["万俟","司马","闻人","东方","赫连","皇甫","尉迟","公羊","澹台","公冶","宗政","濮阳","淳于","单于","太叔","申屠","公孙","仲孙","轩辕","令狐","钟离","宇文","长孙","慕容","鲜于","闾丘","司徒","司空"]}')},"13f6":function(t,e,n){"use strict";n("29a1")},"1b0f":function(t,e,n){},"29a1":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),c={key:0},i=Object(a["h"])(" 世界运行中... "),r=Object(a["g"])("br",null,null,-1),s=Object(a["h"])(" 当前 "),o={key:0},u=Object(a["h"])(" 目标 "),l={key:1},h={key:2,class:"system-message"};function f(t,e,n,f,b,d){var O=Object(a["B"])("layout");return Object(a["u"])(),Object(a["f"])(a["a"],null,[f.Manager.fastRunning?(Object(a["u"])(),Object(a["f"])("div",c,[i,r,s,f.Manager.World?(Object(a["u"])(),Object(a["f"])("div",o,Object(a["D"])(f.Manager.World.calendar.year)+"年 "+Object(a["D"])(f.Manager.World.calendar.month)+"月 ",1)):Object(a["e"])("",!0),u,f.Manager.World?(Object(a["u"])(),Object(a["f"])("div",l,Object(a["D"])(f.Manager.World.config.快进到某年)+"年 ",1)):Object(a["e"])("",!0)])):Object(a["e"])("",!0),f.Manager.fastRunning?Object(a["e"])("",!0):(Object(a["u"])(),Object(a["d"])(O,{key:1})),f.globalState.systemMessage?(Object(a["u"])(),Object(a["f"])("div",h,Object(a["D"])(f.globalState.systemMessage),1)):Object(a["e"])("",!0)],64)}n("ac1f"),n("5319"),n("b0c0"),n("a434");var b=n("6c02"),d={class:"layout"},O={key:0,class:"button-board"},j={key:1,class:"time"};function p(t,e,n,c,i,r){var s=Object(a["B"])("router-view"),o=Object(a["B"])("mask-layer");return Object(a["u"])(),Object(a["f"])("div",d,[Object(a["i"])(s),c.Manager.World?(Object(a["u"])(),Object(a["f"])("div",O,[Object(a["g"])("div",{class:"page-router",onClick:e[0]||(e[0]=function(t){return c.toUrl("/SettingInGame")})},"设置"),Object(a["g"])("div",{class:"page-router",onClick:e[1]||(e[1]=function(t){return c.toUrl("/personal-view")})},"客观"),Object(a["g"])("div",{class:"page-router",onClick:e[2]||(e[2]=function(t){return c.toUrl("/Livelihood")})},"行为"),Object(a["g"])("div",{class:"page-router",onClick:e[3]||(e[3]=function(t){return c.toUrl("/area-view")})},"出门"),Object(a["g"])("div",{class:"page-router",onClick:e[4]||(e[4]=function(t){return c.toUrl("/memory-view")})},"记忆"),Object(a["g"])("div",{class:"page-router",onClick:e[5]||(e[5]=function(t){return c.toUrl("/relationship")})},"家族")])):Object(a["e"])("",!0),c.Manager.World?(Object(a["u"])(),Object(a["f"])("div",j,[Object(a["h"])(Object(a["D"])(c.Manager.World.calendar.year)+"年 "+Object(a["D"])(c.Manager.World.calendar.month)+"月 "+Object(a["D"])(c.Manager.World.calendar.date)+"日 ",1),c.Manager.playing?Object(a["e"])("",!0):(Object(a["u"])(),Object(a["f"])("button",{key:0,onClick:e[6]||(e[6]=function(t){return c.Manager.play()})},"继续生活")),c.Manager.playing?Object(a["e"])("",!0):(Object(a["u"])(),Object(a["f"])("button",{key:1,onClick:e[7]||(e[7]=function(t){return c.Manager.aDayGoBy()})},"下一天")),c.Manager.playing?(Object(a["u"])(),Object(a["f"])("button",{key:2,onClick:e[8]||(e[8]=function(t){return c.Manager.stop()})},"暂停")):Object(a["e"])("",!0)])):Object(a["e"])("",!0),c.globalState.maskLayer?(Object(a["u"])(),Object(a["f"])("div",{key:2,class:"mask-layer",onClick:e[9]||(e[9]=function(){return c.closeMaskLayer&&c.closeMaskLayer.apply(c,arguments)}),onContextmenu:e[10]||(e[10]=Object(a["G"])((function(){return c.closeMaskLayer&&c.closeMaskLayer.apply(c,arguments)}),["prevent"]))},[Object(a["i"])(o,{type:c.globalState.maskLayerType,data:c.globalState.maskLayerData},null,8,["type","data"])],32)):Object(a["e"])("",!0)])}var m=n("fb98"),v={name:"Layout",components:{maskLayer:m["a"]},setup:function(){var t=Object(a["m"])("Manager").value,e=Object(a["m"])("globalState"),n=Object(a["m"])("toUrl");document.oncontextmenu=function(t){t.preventDefault()};var c=function(t){(0==t.button&&"mask-layer"==t.path.shift().className||2==t.button)&&(e.maskLayer=!1)};return Object(a["w"])("setMaskLayer",(function(t,n){e.maskLayer=!!t,e.maskLayerType=t,e.maskLayerData=n})),{Manager:t,toUrl:n,globalState:e,closeMaskLayer:c}}},y=(n("85a6"),n("d959")),g=n.n(y);const k=g()(v,[["render",p],["__scopeId","data-v-1c181164"]]);var M=k,B=(n("d3b7"),n("b85c")),A=n("d4ec"),w=n("bee2"),E=n("99de"),T=n("257e"),D=n("262e"),C=n("2caf"),x=n("ade3"),I=(n("7db0"),n("4de4"),n("4e82"),n("13b7")),S=(n("1276"),n("b64b"),function(){function t(){var e=this;Object(A["a"])(this,t),Object(x["a"])(this,"金",void 0),Object(x["a"])(this,"木",void 0),Object(x["a"])(this,"水",void 0),Object(x["a"])(this,"火",void 0),Object(x["a"])(this,"土",void 0),Object(x["a"])(this,"灵根",void 0),Object(x["a"])(this,"sect",void 0),Object(x["a"])(this,"灵力",0),Object(x["a"])(this,"境界","凡人"),"金 木 水 火 土".split(" ").forEach((function(t){e[t]=Math.floor(10*Math.random())}))}return Object(w["a"])(t,[{key:"加入宗门",value:function(t){this.sect=t,this.职业="修士",this.调整需求("追求仙缘",-50),this.addTemplateMemory("仙途-通过检测加入门派",null,{A:this,SECT:t})}},{key:"试图突破境界",value:function(){var t={"凡人":100,"练气一阶":200,"练气二阶":300,"练气三阶":400,"练气四阶":500,"练气五阶":600,"练气六阶":700,"练气七阶":800,"练气八阶":900,"练气九阶":1e3,"筑基初期":3e3,"筑基中期":6e3,"筑基后期":1e4,"结丹前期":3e4,"结丹中期":6e4,"结丹后期":1e5};if(this.灵力>t[this.境界]){var e=Object.keys(t).indexOf(this.境界);this.境界=Object.keys(t)[e+1],this.addTemplateMemory("仙途-突破境界",{A:this,D1:this.境界})}}},{key:"完成宗门任务",value:function(){}},{key:"获得宗门资源",value:function(){}},{key:"拜师",value:function(){}},{key:"参加外门大比",value:function(){}},{key:"升级为内门弟子",value:function(){}},{key:"被尊为宗门长老",value:function(){}},{key:"收徒",value:function(){}},{key:"猎杀妖兽",value:function(){}}]),t}()),N=n("064d"),W={init:function(t){t.memories=[],t.shortTermMemories=[]},mixin:{addTemplateMemory:function(t,e,n){var a=this.World.calendar,c=a.year,i=a.month,r=a.date,s=Object.assign({year:c,month:i,date:r},n);this.memories.push(s);var o=N.find((function(e){return e[0]==t}));if(o?s.rule_ID=o[2]:console.log("找不到名为"+t+"的记忆事件",t,e,n),e){var u=N.find((function(t){return t[0]==e}));u?s.topic_ID=u[2]:console.log("找不到名为"+e+"的记忆事件",t,e,n)}}}};function L(t,e){if(e.rule_ID){var n=N.find((function(t){return t[2]==e.rule_ID})),a=n[1];if(e.topic_ID){var c=N.find((function(t){return t[2]==e.topic_ID}));a=a.replace(/CONTENT/g,c[1])}return a=a.replace(/A/g,"你"),e.B&&(a=a.replace(/B/g,e.B.name)),e.SECT&&(a=a.replace(/SECT/g,e.SECT.name)),e.D1&&(a=a.replace(/D1/g,e.D1)),a}if(e.content)return e.content;console.log(new Error),console.log(e)}var G=n("2909"),F=(n("99af"),{init:function(t){t.appearance={}},mixin:{"获得长相":function(t,e){for(var n in R){var a=[];a=e&&t?[e.appearance[n],t.appearance[n]]:R[n],this.appearance[n]=_.sample(a)}"男"==this.sex?(this.appearance.前发=_.sample([].concat(Object(G["a"])(R.前发),Object(G["a"])(P.前发))),this.appearance.后发=_.sample([].concat(Object(G["a"])(R.后发),Object(G["a"])(P.后发)))):(this.appearance.前发=_.sample([].concat(Object(G["a"])(R.前发),Object(G["a"])(V.前发))),this.appearance.后发=_.sample([].concat(Object(G["a"])(R.后发),Object(G["a"])(V.后发)))),this.appearance.发色+=55,this.appearance.肤色+=55},die:function(){this.living=!1,console.log(this.name+"已故")}}}),R={"前发":[1,2,3,4,5,6,7,10,11],"后发":[1,2,6,7,8,9,12],"脸型":[2,3,4,5],"眉毛":[1,2,3,4,5,6,7],"眼睛":[2,3,5,6,7,8],"耳朵":[2,3],"嘴":[1,2,3,4,5,6],"脖子":[1,2,3],"肤色":["#feeecd","#fff2e2","#c3816b","#fffdcd","#fff2e9"],"发色":["#000000","#111111","#222222","#333333","#444444","#555555","#666666","#777777","#888888","#999999","#353434","#4c4848","#390101","#604901","#886800","#655423"]},P={"前发":[8],"后发":[4],"脸型":[],"眉毛":[],"眼睛":[],"耳朵":[],"嘴":[],"脖子":[]},V={"前发":[9],"后发":[3,5,10,11],"脸型":[],"眉毛":[],"眼睛":[],"耳朵":[],"嘴":[],"脖子":[]},J=(n("159b"),{init:function(t){t.invations=[]},mixin:{makeInvation:function(t,e){var n=this.World.calendar,a=n.year,c=n.month,i=n.date,r={A:this,B:t,year:a,month:c,date:i,content:e};this.invations.push(r),t.invations.push(r)},"回应邀约":function(t,e,n,a){t.replay=e,n&&this.addTemplateMemory(n,null,a)},"邀约善后":function(){var t=this;this.invations.forEach((function(e){var n=e.A,a=e.B,c=e.content,i=e.replay;if(n==t&&i&&"求亲"==c)if("ok"==i)t.addTemplateMemory("亲事-承-被同意",null,{B:a}),t.娶(a);else if("no"==i){t.addTemplateMemory("亲事-承-被拒绝",null,{B:a});var r=t.relationships.find((function(t){return t.B==a}));r.熟悉-=10}})),this.invations=this.invations.filter((function(t){return!t.replay}))}}}),U={init:function(t){t.interactions=[{request:"求亲",response:"被求亲",active:!1},{request:"主动搭话",response:"被搭话",active:!0},{request:"参加升仙大会",response:"主持升仙大会",active:!1}]},mixin:{interactedBy:function(t,e,n){var a=this.interactions.find((function(t){return t.request==e}));a.active&&this[a.response](t,n)},interactWith:function(t,e,n){this[e]&&this[e](t,n),this[e]||console.log("在".concat(this.name,"这里找不到").concat(e,"的行为")),t.interactedBy(this,e,n)},setInteractionEvent:function(t,e){this.interactions.forEach((function(n){return n.request==t&&(n.active=e)}))}}},q={init:function(t){t.职业,t.工作媒介,t.工作点数=0},mixin:{"维护日常工作":function(){"农夫"==this.职业?this.农夫的工作():"修士"==this.职业?this.修士的工作():"茶馆掌柜"==this.职业||"客栈掌柜"==this.职业||"大夫"==this.职业?this.掌柜的工作():this["".concat(this.职业,"的工作")]&&this["".concat(this.职业,"的工作")]()},"修士的工作":function(){this.灵力+=2,this.试图突破境界()},"掌柜的工作":function(){var t=this,e=this.estates.filter((function(t){return"商铺"==t.structure}));e.forEach((function(e){e.营业中=!0,t.money+=3}))},"大夫的工作":function(){var t=this.estates.filter((function(t){return"医馆"==t.name}));if(t){if(t.客人.length>0){var e=t.客人.pop();this.addTemplateMemory("工作-看病",null,{B:e})}}else this.建造("医馆")},"猎人的工作":function(){var t=Math.random();t>.8?(this.addTemplateMemory("打猎-成果-狐狸"),this.装入仓库("狐狸")):t>.5?(this.addTemplateMemory("打猎-成果-兔子"),this.装入仓库("兔子")):this.addTemplateMemory("打猎-成果-空手而归")},"织工的工作":function(){var t=this.拿出物品("棉花",100);t?this.装入仓库("布"):this.addTemplateMemory("织布-缺材料")},"农夫的工作":function(){var t=this,e=this.estates.filter((function(t){return"农田"==t.structure}));e.forEach((function(e){var n=e.warehouse[0];n&&"成熟"!=n.maturity?t.addTemplateMemory("工作-田间劳作",null):n&&"成熟"==n.status||n&&"枯草"==n.status?t.harvest(e):n?console.log(new Error):t.sow(e)}))}}},z=[{occupation:"大夫",skill:"医术",relyOn:"医馆"},{occupation:"农夫",skill:"耕种",relyOn:"农田"},{occupation:"茶馆",skill:"经商",relyOn:"商铺"},{occupation:"织工",skill:"手工",relyOn:"织布机"},{occupation:"猎人",skill:"狩猎",relyOn:"猎弓"}],H=(n("6062"),n("3ca3"),n("ddb0"),function(){function t(e,n){var a,c=this;(Object(A["a"])(this,t),Object(x["a"])(this,"domain",void 0),Object(x["a"])(this,"type",void 0),Object(x["a"])(this,"genus",void 0),Object(x["a"])(this,"species",void 0),Object(x["a"])(this,"maturity",0),e)&&("auto_plant"==e?(a=_.sample(Y.filter((function(t){return"plant"==t.domain}))),Object.assign(this,a)):a=Y.find((function(t){return t.name==e})),a?Object.assign(this,a):console.log(new Error),n&&Object.keys(this).forEach((function(t){n[t]&&(c[t]=n[t])})))}return Object(w["a"])(t,[{key:"grow",value:function(){this.maturity+=1,20==this.maturity?this.status="幼苗":this.maturity==this.生长天数?this.status="成熟":this.maturity==2*this.生长天数&&this.wither()}},{key:"harvest",value:function(){}},{key:"wither",value:function(){this.status="枯草",this.type="枯草"}}]),t}()),Y=[{name:"普通小麦",domain:"plant",genus:"小麦属",species:"普通小麦",status:"种子","产出":"小麦","产量":500,"播种月份":"9,10","生长天数":240},{name:"草棉",domain:"plant",genus:"棉属",species:"草棉",status:"种子","产出":"棉花","产量":100,"播种月份":"3,4,5","生长天数":130},{name:"水稻",domain:"plant",genus:"稻属",species:"稻",status:"种子","产出":"水稻","产量":500,"播种月份":"5,6","生长天数":120}],K={init:function(t){},mixin:{"进食":function(){this.拿出物品("食物")},"搬家":function(t){var e=this,n=this.家?this.家:null;this.家=t,t.使用权.push(this),this.addTemplateMemory("系统-搬家"),n&&(n.warehouse.forEach((function(t){return e.装入仓库(t.类型,t.number)})),n.warehouse=[],n.使用权=n.使用权.filter((function(t){return t!=e})))},"求亲":function(t){this.addTemplateMemory("亲事-起-发起方",null,{B:t}),this.makeInvation(t,"求亲")},"娶":function(t){this.spouse=t,t.spouse=this,this.家主=this,t.家主=this,t.搬家(this.家),this.调整需求("想要结婚",-50),t.调整需求("想要结婚",-50)},buildRelationship:function(t,e,n,a){t||console.log(new Error);var c={B:t,"熟悉":e,"纯洁":n,buff:new Set};return a&&c.buff.add(a),this.relationships.push(c),c},makeAppointment:function(t,e,n,a,c){this.appointments.push({year:t,month:e,date:n,B:a,content:c})},goTo:function(t){if("回家"==t?t=this.工作媒介?this.工作媒介.area:this.家乡:"string"==typeof t&&(t=this.World.areas.find((function(e){return e.name==t}))),!t)return console.log(new Error),void console.log("找不到",t);t!=this.area&&(this.addTemplateMemory("系统-搬家"),this.area=t)},"从当地市场买东西":function(t,e){var n=this.area.市场.find((function(e){return e.物品==t}));n?(n.市场量-=e,this.money-=n.市场价*e,this.装入仓库(t,e)):console.log(new Error)},"盖房子":function(){var t=this.build("茅草屋");this.area.estates.push(t),this.estates.push(t),this.搬家(t)},"开垦农田":function(){var t=this.build("农田");this.area.estates.push(t),this.estates.push(t)},"建造商铺":function(){var t=this.build("商铺");this.area.estates.push(t),this.estates.push(t)},"建造":function(t){var e=this.build(t);this.area.estates.push(e),this.estates.push(e)},"找人滚床单":function(){var t=this,e=this.relationships.find((function(e){if(e.sex!=t.sex)return!0}));e&&this.makeInvation(e,"滚床单")},sow:function(t,e){e||(e="auto_plant");var n=new H(e);t.warehouse.push(n),this.addTemplateMemory("系统-种植",null,{A:this,D1:n.name})},"给人测灵根":function(t){t.灵根="","金 木 水 火 土".split(" ").forEach((function(e){t[e]>5&&(t.灵根+=e)})),t.addTemplateMemory("仙途-被测灵根",null,{B:this,D1:t.灵根})},"举办升仙大会":function(){this.addTemplateMemory("仙途-举办升仙大会",null,{SECT:this.sect}),this.area.addBroadcast("升仙大会",this.sect,this),this.setInteractionEvent("参加升仙大会",!0)},"结束升仙大会":function(){this.setInteractionEvent("参加升仙大会",!1)},"参加升仙大会":function(t){var e=t.sect;this.addTemplateMemory("仙途-报名",null,{SECT:e})},"主持升仙大会":function(t){return this.addTemplateMemory("仙途-遇到报名",null,{B:t}),this.给人测灵根(t),t.灵根.length<4?(this.sect.收入门下(t),t.加入宗门(this.sect),this.sect.addTemplateMemory("仙途-收弟子",null,{SECT:this,B:t}),!0):(this.sect.addTemplateMemory("仙途-表示对方没有修仙资质",null,{A:this,B:t}),!1)},"增加面熟值":function(t,e){var n=this.relationships.find((function(e){return e.B==t}));n?n.熟悉+=e:this.buildRelationship(t,e,0)},"装入仓库":function(t,e){if(e||(e=1),this.家){var n=this.家.warehouse,a=n.find((function(e){return e.类型==t}));a?a.number+=e:n.push({"类型":t,number:e}),this.addTemplateMemory("系统-获得物品",null,{D1:"【".concat(t,"】*").concat(e)})}else this.addTemplateMemory("系统-没地方放东西",null,{D1:"【".concat(t,"】*").concat(e)})},"拿出物品":function(t,e){e||(e=1);var n=[];if(this.家&&(n=this.家.warehouse),"食物"!=t){var a=n.find((function(n){return n.类型==t&&n.number>=e}));return a?(a.number-=e,!0):(this.addTemplateMemory("系统-欲拿出没能拿出",null,{D1:"【".concat(t,"】*").concat(e)}),!1)}var c="小麦，水稻",i=n.find((function(t){return c.indexOf(t.类型)>=0&&t.number>0}));if(i)i.number-=e;else{var r=_.sample(c.split("，"));this.area.buyFromMarket(this,r,100)}},"散步":function(){var t=this;if(Math.random()>.8){var e=_.sample(this.World.characters.filter((function(e){return e.area==t.area})));if(!e||e==this)return 0;var n=this.relationships.find((function(t){return t.B==e}));n?(n.熟悉+=1,this.addTemplateMemory("散步-规则模板","散步-巧遇熟人",{B:e})):(this.addTemplateMemory("散步-规则模板","散步-相谈甚欢",{B:e}),this.buildRelationship(e,1,0))}else if(Math.random()>.4){var a=_.sample(["散步-看农田风景","散步-看天上风景"]);this.addTemplateMemory("散步-规则模板",a)}},"走访亲友":function(t){t||(t=_.sample(this.relationships)),this.addTemplateMemory("人际-看望",null,{B:t.B}),t.熟悉+=1,t.B.被人拜访(this)},"被人拜访":function(t){this.增加面熟值(t,1),this.addTemplateMemory("人际-被人拜访",null,{B:t})},"主动搭话":function(t,e){var n,a;e?(n=e[0],a=e[1]):(n="人际-闲聊",a="天气"),this.addTemplateMemory(n+"-规则模板-主动",n+"-"+a,{B:t}),this.增加面熟值(t,1)},"被搭话":function(t,e){var n,a;e?(n=e[0],a=e[1]):(n="人际-闲聊",a="天气"),a||(a="天气"),this.addTemplateMemory(n+"-规则模板-被动",n+"-"+a,{B:t}),this.增加面熟值(t,1)}}},Q="追求仙缘,劳动赚钱,孤独,想要结婚,滚床单,提升自我,休闲娱乐".split(","),X={init:function(t){t.需求=[],Q.forEach((function(e){return t.需求.push({action:e,level:0})})),t.taskList=[],t.落脚点=null},mixin:{"释放需求":function(){this.需求=this.需求.sort((function(t,e){return e.level-t.level}));var t=this.需求[0];if(t.level>0){var e=this[t.action]();t.level-=e,t.level<0&&(t.level=0)}},"产生需求":function(){!this.sect&&this.month>168&&this.调整需求("劳动赚钱",2),!this.spouse&&!this.sect&&this.month>60&&this.month<360&&Math.random()>.95&&(this.addTemplateMemory("仙途-萌生求仙之意",null,{A:this}),this.调整需求("追求仙缘",6)),this.month>12&&this.调整需求("孤独",this.BIG_FIVE_Openness),this.spouse||"修士"==this.职业?"修士"!=this.职业&&this.调整需求("滚床单",2):(this.month>180&&Math.random()>.9&&this.调整需求("想要结婚",1),this.month>192&&Math.random()>.9&&this.调整需求("想要结婚",1),this.month>240&&Math.random()>.4&&this.调整需求("想要结婚",1)),this.调整需求("休闲娱乐",5)},"孤独":function(){var t=this;if(this.relationships.length>0&&Math.random()>.9){var e=_.sample(this.relationships);this.走访亲友(e)}else{var n=_.sample(this.World.characters.filter((function(e){return e.area==t.area})));if(!n||n==this)return 0;this.找话题搭话(n)}return 1},"找话题搭话":function(t){if(this.relationships.find((function(e){return e.B==t}))){var e="人际-闲聊",n=_.sample(["求仙","天气","吃饭","合欢宗"]);this.interactWith(t,"主动搭话",[e,n])}else{var a="人际-初见-搭话",c=_.sample(["气宇轩昂","来处"]);this.interactWith(t,"主动搭话",[a,c])}},"被求亲":function(t){var e=t.A;this.addTemplateMemory("亲事-起-被求亲",null,{B:e});var n,a="no",c={B:e};if(this.spouse)n="亲事-承-拒绝-已成家";else{var i=this.relationships.find((function(t){return t.B==e}));i&&i.熟悉>20?(n="亲事-承-应允",a="ok"):n="亲事-承-拒绝-婉拒-好人卡"}this.回应邀约(t,a,n,c)},"调整需求":function(t,e){var n=this.需求.find((function(e){return e.action==t}));n.level+=e,n.level>50?n.level=50:n.level<0&&(n.level=0)},"确定落脚点":function(){},"给自己确定一个职业":function(t){var e=this;if(t)this.职业=t;else if(this.sect)this.职业="修士";else{var n=z.reduce((function(t,n){return e.skillsLevel[n.skill]>e.skillsLevel[t.skill]?n:t}));this.职业=n.occupation}},"想要结婚":function(){var t=this,e=function(e){return!e||e.B.spouse||e.B.sex==t.sex?-1:e.熟悉-e.纯洁},n=this.relationships.reduce((function(t,n){return e(t)<e(n)?n:t}),null);return e(n)>20&&this.求亲(n.B),1},"劳动赚钱":function(){return this.职业||this.给自己确定一个职业(),this.工作点数+=10,1},"追求仙缘":function(){var t=_.sample(this.World.areas);this.goTo(t);var e=this.area.broadcastBoard.find((function(t){return"升仙大会"==t.活动名称}));return e?this.interactWith(e.主持人,"参加升仙大会"):(this.addTemplateMemory("仙途-失败-没找到仙缘",null,{A:this}),this.goTo("回家")),1},"休闲娱乐":function(){return this.散步(),1},"求偶":function(t,e){},"生理需求":function(){},"安全需求":function(){},"感情需求":function(){},"尊重需求":function(){},"自我实现需求":function(){},"学习":function(){}}},Z=function t(e,n){var a=this;if(Object(A["a"])(this,t),Object(x["a"])(this,"material","木制"),Object(x["a"])(this,"structure",void 0),Object(x["a"])(this,"name",void 0),Object(x["a"])(this,"owner",void 0),Object(x["a"])(this,"area",void 0),Object(x["a"])(this,"warehouse",[]),Object(x["a"])(this,"使用权",[]),Object(x["a"])(this,"classification",void 0),Object(x["a"])(this,"isOpen",void 0),Object(x["a"])(this,"客人",[]),n){var c=$[e];Object.assign(this,c),Object.keys(this).forEach((function(t){n[t]&&(a[t]=n[t])}))}},$={"农田":{name:"农田",structure:"农田",material:"土"},"茅草屋":{name:"茅草屋",structure:"民宅",material:"茅草"},"小木屋":{name:"小木屋",structure:"民宅",material:"木头"},"土屋":{name:"土屋",structure:"民宅",material:"土"},"商铺":{name:"商铺",structure:"商铺",material:"土"},"医馆":{name:"医馆",structure:"商铺",material:"土"},"茶馆":{name:"茶馆",structure:"商铺",material:"土"},"蚕卵包":{name:"蚕卵包",structure:"杂物",material:"蚕卵","使用获得物品":"蚕卵","使用获得数量":100},"一把桑叶":{name:"一把桑叶",structure:"杂物",material:"桑叶","使用获得物品":"桑叶","使用获得数量":100}},tt={init:function(t){t.skillsLevel={"医术":0,"耕种":0,"经商":0,"狩猎":0,"运动":0,"手工":0},Object.keys(t.skillsLevel).forEach((function(e){return t.skillsLevel[e]=Math.floor(40*Math.random())})),t.skillsLevel},mixin:{build:function(t){var e=this.area,n=new Z(t,{area:e,owner:this});return n},harvest:function(t){var e=t.warehouse.pop();"成熟"==e.status?(this.装入仓库(e.产出,e.产量),this.addTemplateMemory("系统-丰收",null,{D1:"".concat(e.产出,"*").concat(e.产量)})):this.addTemplateMemory("系统-割除",null,{D1:e.name})},"纺纱":function(){},"织布":function(t,e){},"烹饪":function(t,e){return e}}};function et(t,e){e.init(t),Object.assign(t,e.mixin)}function nt(t,e){Object.assign(t,e.mixin)}function at(t,e,n){Object.assign(t,e.mixin),n&&e.init(t)}var ct=function(t){Object(D["a"])(n,t);var e=Object(C["a"])(n);function n(t,a,c){var i;if(Object(A["a"])(this,n),i=e.call(this),Object(x["a"])(Object(T["a"])(i),"World",void 0),Object(x["a"])(Object(T["a"])(i),"isNpc",!0),Object(x["a"])(Object(T["a"])(i),"area",void 0),Object(x["a"])(Object(T["a"])(i),"name",void 0),Object(x["a"])(Object(T["a"])(i),"surname",void 0),Object(x["a"])(Object(T["a"])(i),"givenName",void 0),Object(x["a"])(Object(T["a"])(i),"spouse",void 0),Object(x["a"])(Object(T["a"])(i),"家主",void 0),Object(x["a"])(Object(T["a"])(i),"relationships",[]),Object(x["a"])(Object(T["a"])(i),"appointments",[]),Object(x["a"])(Object(T["a"])(i),"家乡",void 0),Object(x["a"])(Object(T["a"])(i),"家",void 0),Object(x["a"])(Object(T["a"])(i),"sex",void 0),Object(x["a"])(Object(T["a"])(i),"healthy",100),Object(x["a"])(Object(T["a"])(i),"consititution",0),Object(x["a"])(Object(T["a"])(i),"intelligence",0),Object(x["a"])(Object(T["a"])(i),"charm",0),Object(x["a"])(Object(T["a"])(i),"walkAble",!1),Object(x["a"])(Object(T["a"])(i),"living",!0),Object(x["a"])(Object(T["a"])(i),"pregnent",-1),Object(x["a"])(Object(T["a"])(i),"mother",null),Object(x["a"])(Object(T["a"])(i),"father",null),Object(x["a"])(Object(T["a"])(i),"events",[]),Object(x["a"])(Object(T["a"])(i),"children",[]),Object(x["a"])(Object(T["a"])(i),"money",0),Object(x["a"])(Object(T["a"])(i),"estates",[]),Object(x["a"])(Object(T["a"])(i),"精力",0),Object(x["a"])(Object(T["a"])(i),"BIG_FIVE_Openness",5),Object(x["a"])(Object(T["a"])(i),"BIG_FIVE_Conscientiousness",5),Object(x["a"])(Object(T["a"])(i),"BIG_FIVE_Extraversion",5),Object(x["a"])(Object(T["a"])(i),"BIG_FIVE_Agreeableness",5),Object(x["a"])(Object(T["a"])(i),"BIG_FIVE_Neuroticism",5),at(Object(T["a"])(i),tt,t),at(Object(T["a"])(i),W,t),at(Object(T["a"])(i),F,t),at(Object(T["a"])(i),J,t),at(Object(T["a"])(i),q,t),at(Object(T["a"])(i),K,t),at(Object(T["a"])(i),U,t),at(Object(T["a"])(i),X,t),!t)return Object(E["a"])(i);i.sex=a||(Math.random()>.5?"男":"女"),i.month=0,i.World=t,i.World.characters.push(Object(T["a"])(i));var r=it(i.sex);i.surname=r.surname,i.givenName=r.givenName,i.name=i.surname+i.givenName;for(var s=["Openness","Conscientiousness","Extraversion","Agreeableness","Neuroticism"],o=0,u=s;o<u.length;o++){var l=u[o];i["BIG_FIVE_".concat(l)]=Math.round(10*Math.random())}return i.charm=Math.round(10*Math.random()),i.获得长相(),i.area=c,i.家乡=c,i}return Object(w["a"])(n,[{key:"load",value:function(t){Object.assign(this,t),this.name=this.surname+this.givenName}},{key:"tickerDay",value:function(){var t=this;if(this.进食(),this.工作点数>0&&(this.工作点数--,this.维护日常工作()),this.isNpc&&this.精力&&this.invations.length>0){var e=this.invations.find((function(e){return e.B==t&&!e.replay}));e&&(this.精力--,"求亲"==e.content&&this.被求亲(e))}this.邀约善后(),this.精力>0&&Math.random()>.2&&(this.精力--,this.释放需求())}},{key:"tickerMonth",value:function(){this.精力=10,this.month++,this.month>120&&this.month<240&&this.春心++,-1!=this.pregnent&&(this.pregnent<10?this.pregnent++:this.生子()),this.产生需求(),this.人的记忆是有限的(),this.month<120?Math.random()>.99&&this.die():this.month<360?Math.random()>.999999&&this.die():this.month<600?Math.random()>.99&&this.die():Math.random()>.9&&this.die()}},{key:"人的记忆是有限的",value:function(){this.relationships=this.relationships.filter((function(t){return!(0==t.熟悉&&Math.random()>.5)||Math.random()>.5})),this.relationships.sort((function(t,e){return e.level-t.level}))}},{key:"滚床单",value:function(){return"男"==this.sex||"女"==this.sex&&-1==this.pregnent&&Math.random()>.95&&(this.pregnent=0),1}},{key:"出生",value:function(t,e){t&&(this.mother=t,this.buildRelationship(t,30,100,"母亲")),e&&(this.father=e,this.buildRelationship(e,30,100,"父亲")),this.获得长相(t,e)}},{key:"生子",value:function(){var t=this.spouse,e=this,a=new n(this.World,null,this.area);a.出生(e,t),a.搬家(this.家),this.pregnent=-1,e.children.push(a),t?(a.surname=t.surname,t.children.push(a)):a.surname=e.surname,a.name=a.surname+a.givenName,e.buildRelationship(a,50,100,"子女"),t.buildRelationship(a,50,100,"子女");var c,i=Object(B["a"])(e.children);try{for(i.s();!(c=i.n()).done;){var r=c.value;if(a==r)return;var s="男"==this.sex?"哥哥":"姐姐";a.buildRelationship(r,10,100,s);var o="男"==a.sex?"弟弟":"妹妹";r.buildRelationship(a,10,100,o)}}catch(u){i.e(u)}finally{i.f()}}}]),n}(S);function it(t){var e,n;if(t&&Math.random()>.9)"男"==t?n=_.sample(I.specialMale):"女"==t&&(n=_.sample(I.specialFemale));else{var a=Math.random();n=a>.8?_.sample(I.single):a>.3?_.sample(I.single)+_.sample(I.single):_.sample(I.double)}return e=Math.random()>.5?_.sample(I.surname):_.sample(I.surname,I.surnamedouble),{surname:e,givenName:n}}var rt=function(){function t(e){Object(A["a"])(this,t),Object(x["a"])(this,"name","无名之地"),Object(x["a"])(this,"broadcastBoard",[]),Object(x["a"])(this,"estates",[]),Object(x["a"])(this,"市场",st),this.name=e}return Object(w["a"])(t,[{key:"tickerDay",value:function(){this.estates.forEach((function(t){1==t.isOpen&&(t.isOpen=!1),"农田"==t.structure&&t.warehouse[0]&&t.warehouse[0].grow()}))}},{key:"tickerYear",value:function(){this.市场.forEach((function(t){t.市场量+=100}))}},{key:"addBroadcast",value:function(t,e,n,a,c){this.broadcastBoard.push({"活动名称":t,"举办方":e,"主持人":n,"开始时间":a,"结束时间":c})}},{key:"buyFromMarket",value:function(t,e,n){var a=this.市场.find((function(t){return t.物品==e}));a?(a.市场量-=n,t.money-=a.市场价*n,t.装入仓库(e,n)):console.log(new Error)}},{key:"sellToMarket",value:function(t,e,n){var a=this.市场.find((function(t){return t.物品==e}));a?(a.市场量+=n,t.money-=a.市场价*n*.6,t.拿出物品(e,n)):console.log(new Error)}}]),t}(),st=[{"物品":"棉花","市场价":50,"市场量":5e3},{"物品":"苎麻","市场价":5,"市场量":5e4},{"物品":"小麦","市场价":2,"市场量":5e4},{"物品":"水稻","市场价":2,"市场量":5e4},{"物品":"猪肉","市场价":20,"市场量":500},{"物品":"麻布","市场价":5,"市场量":1e3},{"物品":"棉布","市场价":500,"市场量":100},{"物品":"蚕卵包","市场价":10,"市场量":100}],ot=function(){function t(e,n){Object(A["a"])(this,t),Object(x["a"])(this,"name","合欢派"),Object(x["a"])(this,"World",void 0),Object(x["a"])(this,"characters",[]),Object(x["a"])(this,"master",null),Object(x["a"])(this,"memories",[]),Object(x["a"])(this,"可执行事件",[]),Object(x["a"])(this,"masterEvents",["主持灵根测试"]),Object(x["a"])(this,"area",null),Object(x["a"])(this,"宗门事务",[]),e?(et(this,W),this.name=n,this.World=e,this.area=e.addArea(this.name+"地界")):nt(this,W)}return Object(w["a"])(t,[{key:"tickerMonth",value:function(){var t=this.World.calendar,e=t.month;t.date;this.宗门事务.举办升仙大会=2==e?1:0}},{key:"tickerDay",value:function(){var t=this;Object.keys(this.宗门事务).forEach((function(e){t.宗门事务[e]>0&&t.master&&t[e](t.master)}))}},{key:"任命掌门",value:function(t){this.master=t}},{key:"收入门下",value:function(t){this.characters.push(t),1==this.characters.length&&this.任命掌门(t)}},{key:"举办升仙大会",value:function(t){t.举办升仙大会(),this.宗门事务.举办升仙大会=0}},{key:"发布宗门任务",value:function(){}},{key:"举办外门比试赛",value:function(){}},{key:"调配物资",value:function(){}}]),t}(),ut=n("949e"),lt=function(){function t(e){Object(A["a"])(this,t),Object(x["a"])(this,"characters",[]),Object(x["a"])(this,"sects",[]),Object(x["a"])(this,"areas",[]),Object(x["a"])(this,"社会安定度",50),Object(x["a"])(this,"calendar",{year:0,month:0,date:25}),Object(x["a"])(this,"maxId",0),Object(x["a"])(this,"config",{"游戏速度":2,"记忆展示顺序":"逆序","快进到某年":1,"初始角色数":10}),this.addArea("平山镇"),this.addArea("落霞村"),this.addSect("合欢宗",ut),this.addArea("昆仑山"),Object.assign(this.config,e)}return Object(w["a"])(t,[{key:"tickerDay",value:function(){this.areas.forEach((function(t){return t.tickerDay()})),this.characters.forEach((function(t){t.living&&t.tickerDay()})),this.sects.forEach((function(t){return t.tickerDay()}))}},{key:"tickerMonth",value:function(){var t,e=Object(B["a"])(this.characters);try{for(e.s();!(t=e.n()).done;){var n=t.value;n.living&&n.tickerMonth()}}catch(a){e.e(a)}finally{e.f()}this.sects.forEach((function(t){return t.tickerMonth()}))}},{key:"addSect",value:function(t,e){var n=new ot(this,t);if(this.sects.push(n),e){var a=new ct(this,null,n.area);a.load(e),n.收入门下(a),a.sect=n}return n}},{key:"addArea",value:function(t){var e=new rt(t);return this.areas.push(e),e}}]),t}(),ht=(n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("a9e3"),n("25ca")),ft=function(){function t(){var e=this;Object(A["a"])(this,t),Object(x["a"])(this,"availableList",null),Object(x["a"])(this,"spiritualState",null),Object(x["a"])(this,"loaded",null),this.loaded=fetch("幻想生活.xlsx").then((function(t){return t.arrayBuffer()})).then((function(t){var n=ht["a"](new Uint8Array(t),{type:"array"});e.availableList=ht["b"].sheet_to_json(n.Sheets["可触发事件"])}))}return Object(w["a"])(t,[{key:"解决被动",value:function(t,e,n,a){var c=this;a.buff.forEach((function(t){c.availableList.find((function(i){if(i.触发前置!=t)return!1;if(c.check(e,n,a,i)){if(a.buff.delete(t),i.熟悉变动&&(a.熟悉+=Number(i.熟悉变动)),i.纯洁变动&&(a.纯洁+=Number(i.纯洁变动)),"程序处理"!=i.获得buff&&a.buff.add(i.获得buff),i.B获得buff){var r=n.relationships.find((function(t){return t.B==e}));r?r.buff.add(i.B获得buff):n.buildRelationship(e,0,0,n.获得buff)}return bt(a),e.addMemory(n,i),!0}})),a.buff.has(t)&&Math.random()>.9&&a.buff.delete(t)}))}},{key:"触发当日随机",value:function(t,e,n,a){var c=this;this.availableList.forEach((function(t){if(!(Math.random()>t.概率)&&!t.触发前置&&t.描述&&c.check(e,n,a,t)){if(t.熟悉变动&&(a.熟悉+=Number(t.熟悉变动)),t.纯洁变动&&(a.纯洁+=Number(t.纯洁变动)),t.获得buff&&a.buff.add(t.获得buff),t.失去buff&&t.失去buff.split("，").forEach((function(t){return a.buff.delete(t)})),t.B获得buff){var i=n.relationships.find((function(t){return t.B==e}));i?i.buff.add(t.B获得buff):n.buildRelationship(e,0,0,n.获得buff)}bt(a),e.addMemory(n,t)}}))}},{key:"check",value:function(t,e,n,a){var c,i=!0,r={"需要熟悉":n.熟悉,"需要纯洁":n.纯洁,"外倾性":t.BIG_FIVE_Extraversion,"宜人性":t.BIG_FIVE_Agreeableness,"神经质":t.BIG_FIVE_Neuroticism,"年龄":t.month/12,"B颜值":e.charm,"B年龄":e.month/12};for(var s in r){var o=r[s];a[s]&&(c=a[s].split("~"),(o<c[0]||o>c[1])&&(i=!1))}return a.性别&&a.性别!=t.sex&&(i=!1),("异性"==a.B性别&&t.sex==e.sex||a.B性别&&a.B性别!=e.sex)&&(i=!1),i}},{key:"checkSpiritualState",value:function(t){var e=this.spiritualState.find((function(e){if(t.spiritualPower>=e.灵力&&t.spiritualState==e.当前境界)return!0}));return e}}]),t}();function bt(t){t.熟悉>100&&(t.熟悉=100),t.纯洁<-100&&(t.纯洁=-100),0==t.熟悉&&(t.熟悉=1)}new ft;var dt=n("53ca"),Ot={Character:ct,Area:rt,Sect:ot,World:lt,Artifact:Z,Creature:H};function jt(){var t=[],e=0,n=function(n){if(!n.uid){n.uid="uid_"+e,e++,t.push(n),Object.keys(Ot).forEach((function(t){n.constructor==Ot[t]&&(n.classType=t)}));var c=Object.keys(n);c.forEach((function(t){n[t]=a(n[t])}))}return n.uid};function a(t){var e;if(t){if(t.constructor==Array)e=t.reduce((function(t,e){return t.push(a(e)),t}),[]);else if("object"==Object(dt["a"])(t)&&null!=t)e=n(t);else if("function"!=typeof t)return t}else e=t;return e}var c=_.cloneDeep(this),i=c.World;i.characters.forEach((function(t){return t.memories=[]})),a(i);var r=c.you.uid;return t.forEach((function(t){return delete t.uid})),{time:new Date,name:this.you.name,items:JSON.stringify(t),you:r}}function pt(t,e){var n=JSON.parse(t);n.forEach((function(t,e){if(t.classType){var a=new Ot[t.classType];Object.assign(a,t),n[e]=a}})),console.log(n),n.forEach((function(t){var e=Object.keys(t);e.forEach((function(e){if(t[e]&&t[e].constructor==Array){var a=t[e];a.forEach((function(t,e){t.split||console.log(a);var c=t.split("uid_")[1];c>=0&&(a[e]=n[c])}))}else if(t[e]&&t[e].constructor==String){var c=t[e].split("uid_")[1];c>=0&&(t[e]=n[c])}}))})),this.World=n[0],e=e.split("uid_")[1],this.you=n[e]}function mt(){this.World,this.you=null,this.namesArr=[],this.playing=!1,this.fastRunning=!1}mt.prototype.makeArchive=jt,mt.prototype.loadArchive=pt,mt.prototype.creature_prefabs=Y,mt.prototype.主职业信息表=z;mt.prototype.newGame=function(t){var e=this;return this.World=new lt(t),new Promise((function(n){for(var a=0;a<t.初始角色数;a++){var c=new ct(e.World,null,e.World.areas[0]);c.month=168,c.盖房子(),c.开垦农田(),Math.random()>.5&&c.建造商铺(),c.money=2e3}e.fastRunning=!0;var i=function a(){return setTimeout((function(){e.aDayGoBy(e),e.World.calendar.year<t.快进到某年?a():e.you?e.you.month<=0?a():(e.fastRunning=!1,e.play(),n()):(e.setYou(e.World.characters[e.World.characters.length-1]),a())}),0)};i()}))},mt.prototype.play=function(){var t=this;this.stop(),this.playing=!0;var e=1e3/this.World.config.游戏速度;this.clock=setInterval((function(){t.aDayGoBy(t),t.playing=!0}),e)},mt.prototype.stop=function(){clearInterval(this.clock),this.playing=!1},mt.prototype.aDayGoBy=function(){var t=this.World.calendar;t.date+=1,31==t.date&&(t.date=1,t.month+=1,13==t.month&&(t.month=1,t.year+=1),this.World.tickerMonth()),this.World.tickerDay()},mt.prototype.parseMemory=L,mt.prototype.setYou=function(t){this.you&&(this.you.isNpc=!0),this.you=t,this.you.isNpc=!1};var vt={components:{Layout:M},setup:function(){var t=Object(a["z"])(new mt),e=Object(a["y"])({archiveChosen:!1,systemMessage:null,maskLayer:!1}),n=Object(b["c"])();n.replace("/menu");var c=function(t){e.systemMessage=t,setTimeout((function(){e.systemMessage=null}),1e3)};Object(a["w"])("newGame",(function(n){e.maskLayer=!1;var a=Date.now();t.value.newGame(n).then((function(){i("/personal-view");var t=Date.now();console.log("快速运行花费:",t-a)}))})),Object(a["w"])("loadArchive",(function(e){console.log("正在加载存档");var a=JSON.parse(localStorage.getItem(e));t.value.loadArchive(a.items,a.you),n.replace("/personal-view"),t.value.play()})),Object(a["w"])("saveArchive",(function(){var e=t.value.makeArchive();console.log(JSON.stringify(e));var n=JSON.parse(localStorage.getItem("archiveList"))||[],a=n.indexOf(e.name);a>=0&&n.splice(a,1),n.push(e.name),localStorage.setItem("archiveList",JSON.stringify(n)),localStorage.setItem(e.name,JSON.stringify(e)),c("已存档")})),Object(a["w"])("globalState",e),Object(a["w"])("Manager",t),Object(a["w"])("showSystemMessage",c);var i=function(t){n.replace(t)};return Object(a["w"])("toUrl",i),{globalState:e,Manager:t}}};n("b64a");const yt=g()(vt,[["render",f]]);var gt=yt,kt=[{path:"/",component:function(){return n.e("chunk-602af4f8").then(n.bind(null,"7e1c"))}},{path:"/god-view",component:function(){return n.e("chunk-b9b3032a").then(n.bind(null,"8c3d"))}},{path:"/personal-view",component:function(){return n.e("chunk-5b5d640f").then(n.bind(null,"07e8"))}},{path:"/game",component:function(){return n.e("chunk-e027ff08").then(n.bind(null,"99e8"))}},{path:"/game2",component:function(){return Promise.all([n.e("chunk-1ea89ad9"),n.e("chunk-63a0f3e7")]).then(n.bind(null,"6b89"))}},{path:"/gameHunt",component:function(){return Promise.all([n.e("chunk-1ea89ad9"),n.e("chunk-a3d58024")]).then(n.bind(null,"89d8"))}},{path:"/gameFarm",component:function(){return n.e("chunk-631a4b25").then(n.bind(null,"2368"))}},{path:"/livelihood",component:function(){return n.e("chunk-8b3ae718").then(n.bind(null,"3e06"))}},{path:"/memory-view",component:function(){return n.e("chunk-3ccfda08").then(n.bind(null,"51ee"))}},{path:"/menu",component:function(){return n.e("chunk-602af4f8").then(n.bind(null,"7e1c"))}},{path:"/errorpage",component:function(){return n.e("chunk-51d33103").then(n.bind(null,"e53c"))}},{path:"/relationship",component:function(){return n.e("chunk-30b757c7").then(n.bind(null,"290e"))}},{path:"/SettingInGame",component:function(){return n.e("chunk-41eb030d").then(n.bind(null,"6c21"))}},{path:"/area-view",component:function(){return n.e("chunk-9cc0d25a").then(n.bind(null,"e689"))}}],Mt=Object(b["a"])({history:Object(b["b"])(),routes:kt}),Bt=Mt,At=n("5502"),wt=Object(At["a"])({state:{},mutations:{},actions:{},modules:{}});n("2ef0");Object(a["c"])(gt).use(wt).use(Bt).mount("#app")},"5a8b":function(t,e,n){"use strict";n("1b0f")},"85a6":function(t,e,n){"use strict";n("d324")},"949e":function(t){t.exports=JSON.parse('{"surname":"蓝","givenName":"飞雪","职业":"修士","sex":"女","charm":8,"month":400,"appearance":{"前发":4,"发色":"#39010155","后发":7,"嘴":5,"眉毛":6,"眼睛":6,"耳朵":2,"肤色":"#feeecd55","脖子":2,"脸型":4},"BIG_FIVE_Openness":5,"BIG_FIVE_Conscientiousness":5,"BIG_FIVE_Extraversion":5,"BIG_FIVE_Agreeableness":5,"BIG_FIVE_Neuroticism":5,"金":5,"木":10,"水":5,"火":10,"土":5,"灵根":"火木","灵力":30000,"境界":"结丹前期"}')},"97ed":function(t,e,n){"use strict";n("cccf")},9978:function(t,e,n){"use strict";n("dee8")},"9eb3":function(t,e,n){},ace3:function(t,e,n){"use strict";n("9eb3")},b233:function(t,e,n){},b64a:function(t,e,n){"use strict";n("e5a2")},c0dc:function(t,e,n){"use strict";var a=n("7a23"),c={class:"head"},i=["src"],r=["src"],s=["src"];function o(t,e,n,o,u,l){return Object(a["u"])(),Object(a["f"])("div",c,[(Object(a["u"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(o.sortedLayer,(function(t,e){return Object(a["u"])(),Object(a["f"])(a["a"],{key:e},[Object(a["g"])("img",{src:"head@256/".concat(t+o.head[t],".png")},null,8,i),o.hairLayer.indexOf(t)>=0?(Object(a["u"])(),Object(a["f"])("img",{key:0,class:"skin",style:Object(a["p"])({filter:"drop-shadow(0px 200px 0px ".concat(o.head["发色"],")")}),src:"head@256/".concat(t+o.head[t],".png")},null,12,r)):Object(a["e"])("",!0),o.skinLayer.indexOf(t)>=0?(Object(a["u"])(),Object(a["f"])("img",{key:1,class:"skin",style:Object(a["p"])({filter:"drop-shadow(0px 200px 0px ".concat(o.head["肤色"],")")}),src:"head@256/".concat(t+o.head[t],".png")},null,12,s)):Object(a["e"])("",!0)],64)})),128))])}n("ac1f"),n("1276");var u={props:["character","size"],setup:function(t){var e=t.character.appearance,n="后发,脖子,耳朵,脸型,眉毛,眼睛,嘴,前发".split(","),a=["脸型","耳朵","脖子"],c=["后发","前发"];return{sortedLayer:n,skinLayer:a,hairLayer:c,head:e,size:t.size||100}}},l=(n("e031"),n("d959")),h=n.n(l);const f=h()(u,[["render",o],["__scopeId","data-v-1f125ef4"]]);e["a"]=f},cccf:function(t,e,n){},d324:function(t,e,n){},dee8:function(t,e,n){},e031:function(t,e,n){"use strict";n("b233")},e5a2:function(t,e,n){},fb98:function(t,e,n){"use strict";n("b0c0");var a=n("7a23"),c={key:1,class:"board"},i={key:2,class:"board"},r={key:3,class:"board"},s=Object(a["h"])(" 我的邀约 "),o={key:0},u={key:1},l=["onClick"],h=["onClick"],f={key:2},b={key:4,class:"board"},d={key:5,class:"board"},O={key:6,class:"board"},j={key:7},p={key:8,class:"board market"},m={class:"title"},v={class:"content"},y=["onClick"];function g(t,e,n,g,k,M){var B=Object(a["B"])("new-game-setting"),A=Object(a["B"])("world-map"),w=Object(a["B"])("interact-with"),_=Object(a["B"])("artifact-panel"),E=Object(a["B"])("home-panel"),T=Object(a["B"])("warehouse"),D=Object(a["B"])("choose-occupation");return Object(a["u"])(),Object(a["f"])(a["a"],null,["新游戏参数"==g.type?(Object(a["u"])(),Object(a["d"])(B,{key:0})):Object(a["e"])("",!0),"map"==g.type?(Object(a["u"])(),Object(a["f"])("div",c,[Object(a["i"])(A)])):Object(a["e"])("",!0),"interact"==g.type?(Object(a["u"])(),Object(a["f"])("div",i,[Object(a["i"])(w,{character:g.data},null,8,["character"])])):Object(a["e"])("",!0),"邀约面板"==g.type?(Object(a["u"])(),Object(a["f"])("div",r,[s,(Object(a["u"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(g.you.invations,(function(t){return Object(a["u"])(),Object(a["f"])("div",{key:t},[Object(a["h"])(Object(a["D"])(t.content)+" "+Object(a["D"])(t.A.name)+"->"+Object(a["D"])(t.B.name)+" ",1),g.you==t.A?(Object(a["u"])(),Object(a["f"])("div",o,"待对方回应")):Object(a["e"])("",!0),g.you!=t.B||t.replay?Object(a["e"])("",!0):(Object(a["u"])(),Object(a["f"])("div",u,[Object(a["g"])("div",{onClick:function(e){return g.you.回应邀约(t,"ok")}},"同意",8,l),Object(a["g"])("div",{onClick:function(e){return g.you.回应邀约(t,"no")}},"拒绝",8,h)])),t.replay?(Object(a["u"])(),Object(a["f"])("div",f," 已"+Object(a["D"])("ok"==t.replay?"同意":"拒绝"),1)):Object(a["e"])("",!0)])})),128))])):Object(a["e"])("",!0),"artifact"==g.type?(Object(a["u"])(),Object(a["f"])("div",b,[Object(a["i"])(_,{artifact:g.data},null,8,["artifact"])])):Object(a["e"])("",!0),"house"==g.type?(Object(a["u"])(),Object(a["f"])("div",d,[Object(a["i"])(E)])):Object(a["e"])("",!0),"warehouse"==g.type?(Object(a["u"])(),Object(a["f"])("div",O,[Object(a["i"])(T)])):Object(a["e"])("",!0),"ChooseOccupation"==g.type?(Object(a["u"])(),Object(a["f"])("div",j,[Object(a["i"])(D)])):Object(a["e"])("",!0),"市场"==g.type?(Object(a["u"])(),Object(a["f"])("div",p,[Object(a["g"])("div",m,Object(a["D"])(g.you.area.name)+"市场",1),Object(a["g"])("div",v,[(Object(a["u"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(g.you.area.市场,(function(t,e){return Object(a["u"])(),Object(a["f"])("div",{key:e,class:"cell"},[Object(a["g"])("div",null,Object(a["D"])(t.物品),1),Object(a["g"])("div",null,"市场价: "+Object(a["D"])(t.市场价),1),Object(a["g"])("div",null,"市场量: "+Object(a["D"])(t.市场量),1),Object(a["g"])("button",{onClick:function(e){return g.you.从当地市场买东西(t.物品,100)}},"购买",8,y)])})),128))])])):Object(a["e"])("",!0)],64)}var k=Object(a["g"])("div",{class:"title"},"我家仓库",-1),M={class:"content"};function B(t,e,n,c,i,r){return Object(a["u"])(),Object(a["f"])(a["a"],null,[k,Object(a["g"])("div",M,[(Object(a["u"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(c.you.家.warehouse,(function(t,e){return Object(a["u"])(),Object(a["f"])("div",{key:e,class:"item-warehouse"},Object(a["D"])(t.类型)+": "+Object(a["D"])(t.number),1)})),128))])],64)}var A={setup:function(){return{you:Object(a["m"])("Manager").value.you}}},w=n("d959"),_=n.n(w);const E=_()(A,[["render",B]]);var T=E,D=(n("b64b"),function(t){return Object(a["x"])("data-v-1a0e02bf"),t=t(),Object(a["v"])(),t}),C={class:"board-in-mask"},x=D((function(){return Object(a["g"])("div",{class:"title"},"参数自定义与确认",-1)})),I=["onClick"],S=["onClick"];function N(t,e,n,c,i,r){return Object(a["u"])(),Object(a["f"])("div",C,[x,(Object(a["u"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(Object.keys(c.config),(function(t,e){return Object(a["u"])(),Object(a["f"])("div",{key:e,class:"cell"},[Object(a["h"])(Object(a["D"])(t)+": ",1),Object(a["g"])("button",{class:"less-more",onClick:function(e){return c.setting(t,-1)}},"<",8,I),Object(a["h"])(" "+Object(a["D"])(c.config[t])+" ",1),Object(a["g"])("button",{class:"less-more",onClick:function(e){return c.setting(t,1)}},">",8,S)])})),128)),Object(a["g"])("button",{onClick:e[0]||(e[0]=function(t){return c.newGame(c.config)})},"创建世界")])}var W={setup:function(){var t=Object(a["y"])({"快进到某年":1,"初始角色数":10}),e=function(e,n){t[e]+=n,(t[e]<0||t[e]>20)&&(t[e]-=n)};return{config:t,newGame:Object(a["m"])("newGame"),setting:e}}};n("5a8b");const L=_()(W,[["render",N],["__scopeId","data-v-1a0e02bf"]]);var G=L,F={class:"interact-board"},R={class:"character-name"},P=["onClick"];function V(t,e,n,c,i,r){var s=Object(a["B"])("character-avater");return Object(a["u"])(),Object(a["f"])("div",F,[Object(a["g"])("div",R,Object(a["D"])(n.character.name),1),Object(a["i"])(s,{character:n.character,size:"200",class:"avater"},null,8,["character"]),(Object(a["u"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(n.character.interactions,(function(t){return Object(a["u"])(),Object(a["f"])(a["a"],{key:t},[t.active?(Object(a["u"])(),Object(a["f"])("div",{key:0,class:"button",onClick:function(e){return c.interact(t)}},Object(a["D"])(t.request),9,P)):Object(a["e"])("",!0)],64)})),128))])}var J=n("c0dc"),U={props:["character"],components:{CharacterAvater:J["a"]},setup:function(t){var e=Object(a["m"])("Manager").value.you,n=Object(a["m"])("setMaskLayer"),c=function(a){e.interactWith(t.character,a.request),n()};return{interact:c}}};n("13f6");const q=_()(U,[["render",V],["__scopeId","data-v-184f8eff"]]);var z=q,H=Object(a["h"])(" 世界地图 "),Y={class:"area-list"},K=["onClick"];function Q(t,e,n,c,i,r){return Object(a["u"])(),Object(a["f"])(a["a"],null,[H,Object(a["g"])("div",Y,[(Object(a["u"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(c.Manager.World.areas,(function(t,e){return Object(a["u"])(),Object(a["f"])("div",{key:e,class:Object(a["o"])({"area-panel":!0,"current-position":c.Manager.you.area==t})},[Object(a["h"])(Object(a["D"])(t.name)+" ",1),Object(a["g"])("span",{onClick:function(e){return c.Manager.you.goTo(t)},class:"goto-button"},"前往",8,K)],2)})),128))])],64)}var X={setup:function(){var t=Object(a["m"])("Manager").value;return{Manager:t}}};n("ace3");const Z=_()(X,[["render",Q],["__scopeId","data-v-35952ac6"]]);var $=Z,tt=(n("4de4"),function(t){return Object(a["x"])("data-v-52236f6a"),t=t(),Object(a["v"])(),t}),et={class:"title"},nt={class:"operator-board"},at={key:0},ct={key:0},it=tt((function(){return Object(a["g"])("br",null,null,-1)})),rt=tt((function(){return Object(a["g"])("br",null,null,-1)})),st=tt((function(){return Object(a["g"])("br",null,null,-1)})),ot={key:1},ut=["onClick"],lt={key:0,class:"panel-content"},ht=["onClick"],ft={key:1},bt=Object(a["h"])(" 商品 "),dt={key:0},Ot={key:1},jt=tt((function(){return Object(a["g"])("button",null,"上架",-1)})),pt=[jt];function mt(t,e,n,c,i,r){return Object(a["u"])(),Object(a["f"])(a["a"],null,[Object(a["g"])("div",et,Object(a["D"])(c.artifact.name),1),Object(a["g"])("div",null,"结构："+Object(a["D"])(c.artifact.structure),1),Object(a["g"])("div",null,"建造材料："+Object(a["D"])(c.artifact.material),1),Object(a["g"])("div",nt,["农田"==c.artifact.structure?(Object(a["u"])(),Object(a["f"])("div",at,[c.artifact.warehouse[0]?(Object(a["u"])(),Object(a["f"])("div",ct,[Object(a["h"])(" 作物："+Object(a["D"])(c.artifact.warehouse[0].name)+" ",1),it,Object(a["h"])(" 成熟度："+Object(a["D"])(c.artifact.warehouse[0].maturity),1),rt,Object(a["h"])(" 状态："+Object(a["D"])(c.artifact.warehouse[0].status),1),st,Object(a["g"])("button",{onClick:e[0]||(e[0]=function(t){return c.Manager.you.harvest(c.artifact)})},"收获")])):Object(a["e"])("",!0),0==c.artifact.warehouse.length?(Object(a["u"])(),Object(a["f"])("div",ot,[(Object(a["u"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(c.Manager.creature_prefabs.filter((function(t){return"plant"==t.domain})),(function(t){return Object(a["u"])(),Object(a["f"])("div",{key:t,class:"collapse-accordion"},[Object(a["g"])("div",{class:"panel-title",onClick:function(e){return c.chosen=t}},Object(a["D"])(t.name),9,ut),c.chosen==t?(Object(a["u"])(),Object(a["f"])("div",lt,[Object(a["g"])("div",null,"可播种于"+Object(a["D"])(t.播种月份)+"月",1),Object(a["g"])("div",null,"生长时间"+Object(a["D"])(t.生长天数)+"天",1),Object(a["g"])("div",null,"产出【"+Object(a["D"])(t.产出)+"】*"+Object(a["D"])(t.产量),1),Object(a["g"])("button",{onClick:function(e){return c.Manager.you.sow(c.artifact,t.name)}},"种植",8,ht)])):Object(a["e"])("",!0)])})),128))])):Object(a["e"])("",!0)])):Object(a["e"])("",!0),"商铺"==c.artifact.structure?(Object(a["u"])(),Object(a["f"])("div",ft,[bt,c.artifact.warehouse[0]?(Object(a["u"])(),Object(a["f"])("div",dt,Object(a["D"])(c.artifact.warehouse[0].type),1)):Object(a["e"])("",!0),0==c.artifact.warehouse.length?(Object(a["u"])(),Object(a["f"])("div",Ot,pt)):Object(a["e"])("",!0)])):Object(a["e"])("",!0)])],64)}var vt={props:["artifact"],setup:function(t){console.log(t);var e=Object(a["z"])(null);return{artifact:t.artifact,Manager:Object(a["m"])("Manager"),chosen:e}}};n("97ed");const yt=_()(vt,[["render",mt],["__scopeId","data-v-52236f6a"]]);var gt=yt,kt=Object(a["g"])("div",{class:"title"},"家里",-1),Mt=Object(a["h"])("人口: ");function Bt(t,e,n,c,i,r){return Object(a["u"])(),Object(a["f"])(a["a"],null,[kt,Object(a["g"])("div",null,"类型："+Object(a["D"])(c.you.家.structure),1),Object(a["g"])("div",null,[Mt,(Object(a["u"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(c.you.家.使用权,(function(t){return Object(a["u"])(),Object(a["f"])("span",{key:t},"| "+Object(a["D"])(t.name)+" |",1)})),128))])],64)}var At={setup:function(){return{you:Object(a["m"])("Manager").value.you}}};const wt=_()(At,[["render",Bt]]);var _t=wt,Et={class:"board"},Tt=["onClick"];function Dt(t,e,n,c,i,r){return Object(a["u"])(),Object(a["f"])("div",Et,[(Object(a["u"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(c.Manager.主职业信息表,(function(t,e){return Object(a["u"])(),Object(a["f"])("div",{key:e},[Object(a["h"])(Object(a["D"])(t.occupation)+" ",1),Object(a["g"])("button",{class:"small-button",onClick:function(e){return c.切换职业(t.occupation)}},"选择",8,Tt)])})),128))])}var Ct={setup:function(){var t=Object(a["m"])("Manager"),e=Object(a["m"])("setMaskLayer"),n=function(n){t.value.you.给自己确定一个职业(n),e()};return{Manager:t,"切换职业":n}}};const xt=_()(Ct,[["render",Dt]]);var It=xt,St={props:["type","data"],components:{Warehouse:T,NewGameSetting:G,InteractWith:z,WorldMap:$,ArtifactPanel:gt,HomePanel:_t,ChooseOccupation:It},setup:function(t){var e=Object(a["m"])("Manager").value.you;return{type:t.type,data:t.data,you:e}}};n("9978");const Nt=_()(St,[["render",g],["__scopeId","data-v-8297ac88"]]);e["a"]=Nt}});
//# sourceMappingURL=app.c474a3cf.js.map