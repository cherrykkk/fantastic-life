{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/views/components/InteractWith.vue?b64f","webpack:///./src/App.vue","webpack:///./src/layout/Index.vue","webpack:///./src/layout/Index.vue?0413","webpack:///./src/core/game-world/mixin/Cultivation.js","webpack:///./src/core/game-world/mixin/Memory.js","webpack:///./src/core/game-world/mixin/Body.js","webpack:///./src/core/game-world/mixin/Invation.js","webpack:///./src/core/game-world/mixin/Interaction.js","webpack:///./src/core/game-world/mixin/Work.js","webpack:///./src/core/game-world/Creature.js","webpack:///./src/core/game-world/mixin/Action.js","webpack:///./src/core/game-world/mixin/Brain.js","webpack:///./src/core/game-world/Artifact.js","webpack:///./src/core/game-world/mixin/Skill.js","webpack:///./src/core/utils/mixin.js","webpack:///./src/core/game-world/Character.js","webpack:///./src/core/game-world/Area.js","webpack:///./src/core/game-world/Sect.js","webpack:///./src/core/game-world/World.js","webpack:///./src/core/game-world/Events.js","webpack:///./src/core/utils/save-load.js","webpack:///./src/core/GameManager.js","webpack:///./src/App.vue?889f","webpack:///./src/router/index.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/views/components/NewGameSetting.vue?6adc","webpack:///./src/layout/Index.vue?fdd3","webpack:///./src/views/components/ArtifactPanel.vue?bdce","webpack:///./src/views/components/MaskLayer.vue?507b","webpack:///./src/views/components/WorldMap.vue?6868","webpack:///./src/App.vue?e0d6","webpack:///./src/views/components/CharacterAvater.vue","webpack:///./src/views/components/CharacterAvater.vue?6c09","webpack:///./src/views/components/CharacterAvater.vue?1d30","webpack:///./src/views/components/MaskLayer.vue","webpack:///./src/views/components/Warehouse.vue","webpack:///./src/views/components/Warehouse.vue?9cf3","webpack:///./src/views/components/NewGameSetting.vue","webpack:///./src/views/components/NewGameSetting.vue?04be","webpack:///./src/views/components/InteractWith.vue","webpack:///./src/views/components/InteractWith.vue?931f","webpack:///./src/views/components/WorldMap.vue","webpack:///./src/views/components/WorldMap.vue?12d2","webpack:///./src/views/components/ArtifactPanel.vue","webpack:///./src/views/components/ArtifactPanel.vue?74b8","webpack:///./src/views/components/HomePanel.vue","webpack:///./src/views/components/HomePanel.vue?2758","webpack:///./src/views/components/ChooseOccupation.vue","webpack:///./src/views/components/ChooseOccupation.vue?f3f3","webpack:///./src/views/components/MaskLayer.vue?c848"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","class","Manager","fastRunning","World","calendar","year","month","config","快进到某年","globalState","systemMessage","toUrl","date","playing","play","aDayGoBy","stop","maskLayer","closeMaskLayer","maskLayerType","maskLayerData","components","setup","oncontextmenu","preventDefault","button","path","className","__exports__","Cultivation","split","forEach","Math","floor","random","sect","this","职业","调整需求","addTemplateMemory","A","SECT","瓶颈","凡人","练气一阶","练气二阶","练气三阶","练气四阶","练气五阶","练气六阶","练气七阶","练气八阶","练气九阶","筑基初期","筑基中期","筑基后期","结丹前期","结丹中期","结丹后期","灵力","境界","keys","indexOf","D1","init","that","memories","shortTermMemories","mixin","rule","topic","args","memory","assign","ruleTemplate","MemoryList","find","rule_ID","log","topicTemplate","topic_ID","parseMemory","template","text","replace","B","content","appearance","获得长相","mother","father","availableAppearance","可获得基因","_","sample","sex","前发","男性专属外观","后发","女性专属外观","发色","肤色","die","living","脸型","眉毛","眼睛","耳朵","嘴","脖子","invations","makeInvation","invation","回应邀约","replay","memoryKey","memoryData","邀约善后","娶","re","relationships","_re","熟悉","filter","interactions","response","active","interactedBy","interaction","interactWith","setInteractionEvent","工作媒介","工作点数","维护日常工作","农夫的工作","修士的工作","掌柜的工作","试图突破境界","shops","estates","building","structure","shop","营业中","money","大夫的工作","hospital","客人","pop","建造","猎人的工作","装入仓库","织工的工作","thing","拿出物品","farmlands","farmland","plant","warehouse","maturity","status","harvest","sow","主职业信息表","occupation","skill","relyOn","Creature","prefabName","prefab","creature_prefabs","domain","生长天数","wither","genus","species","产出","产量","播种月份","进食","搬家","newHome","oldHome","家","使用权","类型","number","求亲","spouse","家主","buildRelationship","纯洁","buff","Set","add","makeAppointment","appointments","goTo","area","家乡","areas","从当地市场买东西","thingName","onSale","市场","物品","市场量","市场价","盖房子","house","build","开垦农田","建造商铺","artifact","找人滚床单","_B","plantName","给人测灵根","灵根","举办升仙大会","addBroadcast","结束升仙大会","参加升仙大会","主持升仙大会","收入门下","加入宗门","增加面熟值","num","sameThing","可用物资","item","foods","food","wantFood","buyFromMarket","散步","characters","character","走访亲友","被人拜访","主动搭话","被搭话","needs","需求","action","level","taskList","落脚点","释放需求","sort","a","b","need","satisfaction","产生需求","BIG_FIVE_Openness","孤独","找话题搭话","被求亲","needName","确定落脚点","给自己确定一个职业","chosen","reduce","e1","e2","skillsLevel","想要结婚","getLevel","re1","re2","劳动赚钱","追求仙缘","broadcastBoard","活动名称","主持人","休闲娱乐","求偶","生理需求","安全需求","感情需求","尊重需求","自我实现需求","学习","Artifact","prefebName","prefabs","农田","material","茅草屋","小木屋","土屋","商铺","医馆","茶馆","蚕卵包","使用获得物品","使用获得数量","一把桑叶","医术","耕种","经商","狩猎","运动","手工","owner","纺纱","织布","itemName","烹饪","foodName","mixinWithInit","mixinOnlyFunc","world","Character","Skill","Memory","Body","Invation","Work","Action","Interaction","Brain","createName","surname","givenName","theBigFive","round","charm","isNpc","精力","todayReplay","春心","pregnent","生子","人的记忆是有限的","child","出生","children","_child","BtoA","AtoB","NameList","specialMale","specialFemale","rand","single","double","surnamedouble","Area","初始市场","isOpen","grow","举办方","开始时间","结束时间","Sect","addArea","宗门事务","master","任命掌门","host","游戏速度","记忆展示顺序","初始角色数","addSect","master1","tickerDay","sects","tickerMonth","masterData","load","Event","loaded","fetch","arrayBuffer","res","workbook","XLSX","Uint8Array","availableList","sheet_to_json","Sheets","触发前置","check","delete","熟悉变动","Number","纯洁变动","获得buff","B获得buff","reB","constraint","addMemory","has","概率","描述","失去buff","range","succeed","checkTypeOne","需要熟悉","需要纯洁","外倾性","BIG_FIVE_Extraversion","宜人性","BIG_FIVE_Agreeableness","神经质","BIG_FIVE_Neuroticism","年龄","B颜值","B年龄","性别","B性别","human","spiritualState","spiritualPower","当前境界","classList","saveWorld","items","uid","getUID","constructor","classType","iterate","Array","managerCopy","cloneDeep","worldCopy","you","time","Date","JSON","stringify","loadWorld","itemsData","yourUID","parse","index","_item","arr","String","GameManager","namesArr","makeArchive","loadArchive","newGame","fastRun","setYou","speed","clock","setInterval","clearInterval","Layout","archiveChosen","router","showSystemMessage","t_start","now","t_end","archiveName","archive","localStorage","getItem","archiveList","setItem","url","render","routes","component","createRouter","history","createWebHashHistory","createStore","state","mutations","actions","createApp","App","use","store","mount","sortedLayer","hairLayer","style","skinLayer","props","size","setting","interact","CharacterAvater","setMaskLayer","切换职业","Warehouse","NewGameSetting","InteractWith","WorldMap","ArtifactPanel","HomePanel","ChooseOccupation"],"mappings":"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","file":"js/app.c474a3cf.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-1ea89ad9\":\"53ce6fa7\",\"chunk-63a0f3e7\":\"8dfd2bc5\",\"chunk-a3d58024\":\"54e188bb\",\"chunk-30b757c7\":\"381ec20b\",\"chunk-3ccfda08\":\"697916b8\",\"chunk-41eb030d\":\"b42e1130\",\"chunk-51d33103\":\"2a53a94a\",\"chunk-5b5d640f\":\"f6f119b2\",\"chunk-602af4f8\":\"65b161ee\",\"chunk-631a4b25\":\"996e717b\",\"chunk-8b3ae718\":\"16a158b7\",\"chunk-9cc0d25a\":\"889f0849\",\"chunk-b9b3032a\":\"090fecd6\",\"chunk-e027ff08\":\"5803c559\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-63a0f3e7\":1,\"chunk-a3d58024\":1,\"chunk-30b757c7\":1,\"chunk-3ccfda08\":1,\"chunk-41eb030d\":1,\"chunk-51d33103\":1,\"chunk-5b5d640f\":1,\"chunk-602af4f8\":1,\"chunk-631a4b25\":1,\"chunk-8b3ae718\":1,\"chunk-9cc0d25a\":1,\"chunk-b9b3032a\":1,\"chunk-e027ff08\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-1ea89ad9\":\"31d6cfe0\",\"chunk-63a0f3e7\":\"64ce8fc4\",\"chunk-a3d58024\":\"8292f59d\",\"chunk-30b757c7\":\"88316010\",\"chunk-3ccfda08\":\"b59cee54\",\"chunk-41eb030d\":\"745e60b8\",\"chunk-51d33103\":\"d8c51200\",\"chunk-5b5d640f\":\"c366d68b\",\"chunk-602af4f8\":\"a58c7b75\",\"chunk-631a4b25\":\"76742055\",\"chunk-8b3ae718\":\"b3133ac0\",\"chunk-9cc0d25a\":\"78f334c1\",\"chunk-b9b3032a\":\"b7483a83\",\"chunk-e027ff08\":\"376e65d0\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./InteractWith.vue?vue&type=style&index=0&id=184f8eff&lang=less&scoped=true\"","<template>\r\n  <div v-if=\"Manager.fastRunning\">\r\n    世界运行中... <br>\r\n    当前\r\n    <div v-if=\"Manager.World\">\r\n      {{Manager.World.calendar.year}}年\r\n      {{Manager.World.calendar.month}}月\r\n    </div>\r\n    目标\r\n    <div v-if=\"Manager.World\">\r\n      {{Manager.World.config.快进到某年}}年\r\n    </div>\r\n  </div>\r\n  <layout v-if=\"!Manager.fastRunning\"></layout>\r\n  <div v-if=\"globalState.systemMessage\" class=\"system-message\">\r\n    {{globalState.systemMessage}}\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, reactive, provide } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport Layout from '@/layout/Index'\r\nimport { GameManager } from '@/core/GameManager.js'\r\nexport default{\r\n  components:{\r\n    Layout\r\n  },\r\n  setup() {\r\n    const Manager = ref(new GameManager()) //这里不用 ref， 则子组件不能监听内部变化 （为什么）\r\n    const globalState = reactive({\r\n      archiveChosen: false,\r\n      systemMessage: null,\r\n      maskLayer: false\r\n    })\r\n    const router = useRouter()\r\n    router.replace(\"/menu\")\r\n\r\n    const showSystemMessage = function (message) {\r\n      globalState.systemMessage = message\r\n      setTimeout(()=>{\r\n        globalState.systemMessage = null\r\n      },1000)\r\n    }\r\n\r\n    provide(\"newGame\", (config)=>{\r\n      globalState.maskLayer = false\r\n      const t_start = Date.now()\r\n      Manager.value.newGame(config).then(()=>{\r\n        toUrl('/personal-view')\r\n        const t_end = Date.now()\r\n        console.log('快速运行花费:',t_end-t_start)\r\n      })\r\n    })\r\n\r\n    provide(\"loadArchive\", function (archiveName) {\r\n      console.log(\"正在加载存档\")\r\n      const archive = JSON.parse(localStorage.getItem(archiveName))\r\n      Manager.value.loadArchive(archive.items,archive.you)\r\n      router.replace(\"/personal-view\")\r\n      Manager.value.play()\r\n    })\r\n\r\n    provide(\"saveArchive\",function () {\r\n      const archive = Manager.value.makeArchive()\r\n      console.log(JSON.stringify(archive))\r\n      const archiveList = JSON.parse(localStorage.getItem('archiveList')) || []\r\n      const i = archiveList.indexOf(archive.name)\r\n      if (i>=0)\r\n        archiveList.splice(i,1)\r\n      archiveList.push(archive.name)\r\n\r\n      localStorage.setItem(\"archiveList\",JSON.stringify(archiveList))\r\n      localStorage.setItem(archive.name,JSON.stringify(archive))\r\n      showSystemMessage('已存档')\r\n    })\r\n\r\n    provide(\"globalState\",globalState)\r\n    provide(\"Manager\",Manager)\r\n    provide(\"showSystemMessage\",showSystemMessage)\r\n\r\n    const toUrl = (url)=>{\r\n      router.replace(url)\r\n    }\r\n    provide(\"toUrl\",toUrl)\r\n\r\n\r\n    return {\r\n      globalState,\r\n      Manager\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n<style>\r\n#app {\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n}\r\n\r\n#nav {\r\n  padding: 30px;\r\n}\r\n\r\n#nav a {\r\n  font-weight: bold;\r\n  color: #2c3e50;\r\n}\r\n\r\n#nav a.router-link-exact-active {\r\n  color: #42b983;\r\n}\r\n\r\n.system-message {\r\n  position: absolute;\r\n  color: white;\r\n  background-color: red;\r\n  border: 1px red solid;\r\n  border-radius: 2px;\r\n  padding: 5px;\r\n}\r\n\r\n.theme-1 {\r\n  border: 1px green double;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"layout\">\r\n    <router-view />\r\n    <div class=\"button-board\" v-if=\"Manager.World\">\r\n      <div class=\"page-router\" @click=\"toUrl('/SettingInGame')\">设置</div>\r\n      <div class=\"page-router\" @click=\"toUrl('/personal-view')\">客观</div>\r\n      <div class=\"page-router\" @click=\"toUrl('/Livelihood')\">行为</div>\r\n      <div class=\"page-router\" @click=\"toUrl('/area-view')\">出门</div>\r\n      <div class=\"page-router\" @click=\"toUrl('/memory-view')\">记忆</div>\r\n      <div class=\"page-router\" @click=\"toUrl('/relationship')\">家族</div>\r\n    </div>\r\n    <div class=\"time\" v-if=\"Manager.World\">\r\n      {{Manager.World.calendar.year}}年\r\n      {{Manager.World.calendar.month}}月\r\n      {{Manager.World.calendar.date}}日\r\n      <button v-if=\"!Manager.playing\" @click=\"Manager.play()\">继续生活</button>\r\n      <button v-if=\"!Manager.playing\" @click=\"Manager.aDayGoBy()\">下一天</button>\r\n      <button v-if=\"Manager.playing\" @click=\"Manager.stop()\">暂停</button>\r\n    </div>\r\n    <div class=\"mask-layer\" v-if=\"globalState.maskLayer\" @click=\"closeMaskLayer\"  @contextmenu.prevent=\"closeMaskLayer\">\r\n      <mask-layer :type=\"globalState.maskLayerType\" :data=\"globalState.maskLayerData\"></mask-layer>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { inject,reactive,provide } from 'vue'\r\nimport maskLayer from '@/views/components/MaskLayer'\r\nexport default {\r\n  name: 'Layout',\r\n  components: {\r\n    maskLayer\r\n  },\r\n  setup(){\r\n    const Manager = inject(\"Manager\").value\r\n    const globalState = inject('globalState')\r\n    const toUrl = inject('toUrl')\r\n\r\n    document.oncontextmenu = function(e){\r\n      e.preventDefault();\r\n    };\r\n    \r\n    const closeMaskLayer = (e)=>{\r\n      if (e.button==0 && e.path.shift().className=='mask-layer') {\r\n        globalState.maskLayer = false\r\n      } else if (e.button==2) {\r\n        globalState.maskLayer = false\r\n      }\r\n    }\r\n\r\n    provide('setMaskLayer',(type,data)=>{\r\n      globalState.maskLayer = type ? true : false\r\n      globalState.maskLayerType = type\r\n      globalState.maskLayerData = data\r\n    })\r\n    return {\r\n      Manager,\r\n      toUrl,\r\n      globalState,\r\n      closeMaskLayer,\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n.layout {\r\n  position: fixed;\r\n  flex-direction: column;\r\n  height: 100%;\r\n  width: 100%;\r\n  overflow: hidden;\r\n  left: 0;\r\n  top: 0;\r\n  display: flex;\r\n  button {\r\n    padding: 5px;\r\n  }\r\n  .button-board {\r\n    position: relative;\r\n    display: flex;\r\n    background-color: @themeColor;\r\n    .page-router {\r\n      cursor: pointer;\r\n      padding: 5px;\r\n      height: 20px;\r\n      width: 40px;\r\n      line-height: 30px;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n    }\r\n    .active-page-router {\r\n      background-color: white;\r\n    }\r\n  }\r\n  .time {\r\n    position: absolute;\r\n    right: 0;\r\n    bottom: 2px;\r\n    text-align: right;\r\n  }\r\n  .mask-layer {\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    background-color: rgba(0,0,0,0.5);\r\n  }\r\n}\r\n\r\n@media screen and (max-width: 600px ){\r\n  .layout {\r\n    .time {\r\n      position: relative;\r\n      background-color: @themeColor;\r\n    }\r\n  }\r\n}\r\n\r\n/deep/ .view-page {\r\n  border: 10px solid @themeColor;\r\n  position: relative;\r\n  flex: 1;\r\n}\r\n/deep/ button {\r\n  background: @borderColor;\r\n  border: none;\r\n  padding: 10px;\r\n  color: white;\r\n  font-weight: 900;\r\n}\r\n/deep/ .board-in-mask {\r\n  position: absolute;\r\n  top: 0;\r\n  width: 80%;\r\n  height: 80%;\r\n  margin: 10%;\r\n  border: @borderStyle;\r\n  background-color: #f4fff4;\r\n  overflow: hidden; \r\n}\r\n/deep/ .collapse-accordion {\r\n  font-size: 12px;\r\n  background-color: @lighterThemeColor;\r\n  border-bottom: grey 1px solid;\r\n  .panel-title {\r\n    border-top: grey 1px solid;\r\n  }\r\n  .panel-content {\r\n    color: #999;\r\n    span {\r\n      word-break: keep-all;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Index.vue?vue&type=template&id=1c181164&scoped=true\"\nimport script from \"./Index.vue?vue&type=script&lang=js\"\nexport * from \"./Index.vue?vue&type=script&lang=js\"\n\nimport \"./Index.vue?vue&type=style&index=0&id=1c181164&lang=less&scoped=true\"\n\nimport exportComponent from \"C:\\\\myDevelopment\\\\vscode\\\\fantastic-life\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1c181164\"]])\n\nexport default __exports__","\r\nexport default class Cultivation {\r\n  金 \r\n  木\r\n  水 \r\n  火\r\n  土\r\n  灵根\r\n  sect\r\n  灵力 = 0\r\n  境界 = '凡人'\r\n\r\n  constructor() {\r\n    //灵根\r\n    '金 木 水 火 土'.split(' ').forEach(e=>{\r\n      this[e] = Math.floor(Math.random()*10)\r\n    })\r\n  }\r\n\r\n  加入宗门(sect) {\r\n    this.sect = sect\r\n    this.职业 = '修士'\r\n    this.调整需求('追求仙缘',-50)\r\n    this.addTemplateMemory('仙途-通过检测加入门派',null,{A:this, SECT:sect})\r\n  }\r\n  \r\n  试图突破境界() {\r\n    const 瓶颈 = {\r\n      凡人: 100,\r\n      练气一阶: 200,\r\n      练气二阶: 300,\r\n      练气三阶: 400,\r\n      练气四阶: 500,\r\n      练气五阶: 600,\r\n      练气六阶: 700,\r\n      练气七阶: 800,\r\n      练气八阶: 900,\r\n      练气九阶: 1000,\r\n      筑基初期: 3000,\r\n      筑基中期: 6000,\r\n      筑基后期: 10000,\r\n      结丹前期: 30000,\r\n      结丹中期: 60000,\r\n      结丹后期: 100000,\r\n    }\r\n\r\n    if ( this.灵力 > 瓶颈[this.境界] ) {\r\n      const i = Object.keys(瓶颈).indexOf(this.境界)\r\n      this.境界 = Object.keys(瓶颈)[i+1]\r\n\r\n      this.addTemplateMemory('仙途-突破境界',{A:this,D1:this.境界})\r\n    }\r\n  }\r\n  \r\n  完成宗门任务() {\r\n  \r\n  }\r\n  \r\n  获得宗门资源() {\r\n  \r\n  }\r\n  \r\n  拜师() {\r\n  \r\n  }\r\n  \r\n  参加外门大比() {\r\n  \r\n  }\r\n  \r\n  升级为内门弟子() {\r\n  \r\n  }\r\n  \r\n  被尊为宗门长老() {\r\n  \r\n  }\r\n  \r\n  收徒() {\r\n  \r\n  }\r\n  \r\n  猎杀妖兽() {\r\n  \r\n  }\r\n}","import MemoryList from '@/assets/文字表现形式.json'\r\n\r\nexport default {\r\n  init: function(that) {\r\n    that.memories = []\r\n    that.shortTermMemories = []\r\n  },\r\n\r\n  mixin: {\r\n    addTemplateMemory(rule, topic, args) {\r\n      const { year,month,date } = this.World.calendar \r\n      const memory = Object.assign({year,month,date},args)\r\n      this.memories.push(memory)\r\n     \r\n      //必要\r\n      const ruleTemplate = MemoryList.find(e => e[0] == rule)\r\n      if (ruleTemplate) memory.rule_ID = ruleTemplate[2]\r\n      else  console.log('找不到名为'+rule+'的记忆事件',rule, topic, args)\r\n\r\n      //topic 可为空，但如果不为空则必须要找到对象模板。\r\n      if (topic) {\r\n        const topicTemplate = MemoryList.find(e => e[0] == topic)\r\n        if (topicTemplate)  memory.topic_ID = topicTemplate[2]\r\n        else  console.log('找不到名为'+topic+'的记忆事件',rule, topic, args)\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport function parseMemory(A,memory) {\r\n  if (memory.rule_ID) {\r\n    const template = MemoryList.find(e => e[2] == memory.rule_ID)\r\n    let text = template[1]\r\n    if (memory.topic_ID) {\r\n      const topicTemplate = MemoryList.find(e => e[2] == memory.topic_ID)\r\n      text = text.replace(/CONTENT/g, topicTemplate[1])\r\n    }\r\n    text = text.replace(/A/g,'你')\r\n    if (memory.B) text = text.replace(/B/g,memory.B.name)\r\n    if (memory.SECT) text = text.replace(/SECT/g,memory.SECT.name)\r\n    if (memory.D1) text = text.replace(/D1/g,memory.D1)\r\n    return text\r\n  } else if (memory.content) {\r\n    return memory.content\r\n  } else {\r\n    console.log(new Error())\r\n    console.log(memory)\r\n  }\r\n}","/** 生理状态 */\r\n\r\nexport default {\r\n  init(that) {\r\n    that.appearance = {}\r\n  },\r\n  mixin: {\r\n    获得长相(mother,father) {\r\n      //长相\r\n      for (const key in availableAppearance) {\r\n        let 可获得基因 = []\r\n        if (father && mother) {\r\n          可获得基因 = [father.appearance[key],mother.appearance[key]]\r\n        } else {\r\n          可获得基因 = availableAppearance[key]\r\n        }\r\n        this.appearance[key] = _.sample(可获得基因)\r\n      }\r\n  \r\n      if (this.sex == '男') {\r\n        this.appearance.前发 = _.sample([...availableAppearance.前发, ...男性专属外观.前发])\r\n        this.appearance.后发 = _.sample([...availableAppearance.后发, ...男性专属外观.后发])\r\n      } else {\r\n        this.appearance.前发 = _.sample([...availableAppearance.前发, ...女性专属外观.前发])\r\n        this.appearance.后发 = _.sample([...availableAppearance.后发, ...女性专属外观.后发])\r\n      }\r\n      this.appearance.发色 += 55\r\n      this.appearance.肤色 += 55\r\n    },\r\n\r\n    die() {\r\n      this.living = false\r\n      console.log(this.name + '已故')\r\n    }\r\n  }\r\n}\r\n\r\nconst availableAppearance = {\r\n  前发: [1,2,3,4,5,6,7,10,11],\r\n  后发: [1,2,6,7,8,9,12],\r\n  脸型: [2,3,4,5],\r\n  眉毛: [1,2,3,4,5,6,7],\r\n  眼睛: [2,3,5,6,7,8],\r\n  耳朵: [2,3],\r\n  嘴: [1,2,3,4,5,6],\r\n  脖子: [1,2,3],\r\n  肤色: ['#feeecd','#fff2e2','#c3816b','#fffdcd','#fff2e9'],\r\n  发色: ['#000000','#111111','#222222','#333333','#444444','#555555','#666666','#777777','#888888','#999999','#353434','#4c4848','#390101','#604901','#886800','#655423']\r\n}\r\n\r\nconst 男性专属外观 = {\r\n  前发: [8],\r\n  后发: [4],\r\n  脸型: [],\r\n  眉毛: [],\r\n  眼睛: [],\r\n  耳朵: [],\r\n  嘴: [],\r\n  脖子: []\r\n}\r\nconst 女性专属外观 = {\r\n  前发: [9],\r\n  后发: [3,5,10,11],\r\n  脸型: [],\r\n  眉毛: [],\r\n  眼睛: [],\r\n  耳朵: [],\r\n  嘴: [],\r\n  脖子: []\r\n}\r\n","export default {\r\n  init: function(that) {\r\n    that.invations = []\r\n  },\r\n\r\n  mixin: {\r\n    makeInvation(B,content) {\r\n      const { year,month,date } = this.World.calendar \r\n      const invation = {\r\n        A: this,\r\n        B,\r\n        year,month,date,\r\n        content\r\n      }\r\n      this.invations.push(invation)\r\n      B.invations.push(invation)\r\n    },\r\n\r\n    回应邀约(invation,replay,memoryKey,memoryData) {\r\n      invation.replay = replay\r\n      if (memoryKey) {\r\n        this.addTemplateMemory(memoryKey,null,memoryData)\r\n      }\r\n    },\r\n    邀约善后() {\r\n      this.invations.forEach(invation=>{\r\n        const { A, B, content, replay } = invation\r\n        if (A == this && replay) {\r\n          if (content == '求亲') {\r\n            if (replay == 'ok') {\r\n              this.addTemplateMemory('亲事-承-被同意',null,{B})\r\n              this.娶(B)\r\n            } else if (replay == 'no') {\r\n              this.addTemplateMemory('亲事-承-被拒绝',null,{B})\r\n              const re = this.relationships.find(_re=>_re.B == B)\r\n              re.熟悉 -= 10\r\n            }\r\n          }\r\n        }\r\n      })\r\n      this.invations = this.invations.filter(e=>!e.replay)\r\n    },\r\n  }\r\n}","export default {\r\n  init(that) {\r\n    that.interactions = [{\r\n      request: '求亲',\r\n      response: '被求亲',\r\n      active: false\r\n    },{\r\n      request: '主动搭话',\r\n      response: '被搭话',\r\n      active: true\r\n    },{\r\n      request: '参加升仙大会',\r\n      response: '主持升仙大会',\r\n      active: false\r\n    }]\r\n  },\r\n  mixin: {\r\n    interactedBy(B, request, args) {\r\n      const interaction = this.interactions.find(e => e.request == request)\r\n      if (interaction.active) {\r\n        this[interaction.response](B, args)\r\n      }\r\n    },\r\n\r\n    interactWith(B, request, args) {\r\n      this[request] && this[request](B, args)\r\n      this[request] || console.log(`在${this.name}这里找不到${request}的行为`)\r\n      B.interactedBy(this, request, args)\r\n    },\r\n\r\n    setInteractionEvent(request, active) {\r\n      this.interactions.forEach(e => e.request==request && (e.active = active))\r\n    },\r\n  }\r\n}","export default {\r\n  init(that) {\r\n    that.职业\r\n    that.工作媒介\r\n    that.工作点数 = 0\r\n  },\r\n  mixin: {\r\n    维护日常工作() {\r\n      if (this.职业 == '农夫') {\r\n        this.农夫的工作()\r\n      } else if (this.职业 == '修士') {\r\n        this.修士的工作()\r\n      } else if (this.职业 == '茶馆掌柜' || this.职业 == '客栈掌柜' || this.职业 == '大夫') {\r\n        this.掌柜的工作()\r\n      } else {\r\n        this[`${this.职业}的工作`] && this[`${this.职业}的工作`]()\r\n      }\r\n    },\r\n\r\n    修士的工作() {\r\n      this.灵力 += 2\r\n      this.试图突破境界()\r\n    },\r\n\r\n    掌柜的工作() {\r\n      const shops = this.estates.filter(building => building.structure == '商铺')\r\n      shops.forEach(shop => {\r\n        shop.营业中 = true\r\n        this.money += 3\r\n      })\r\n    },\r\n\r\n    大夫的工作() {\r\n      const hospital = this.estates.filter(building => {\r\n        return building.name == '医馆'\r\n      })\r\n      if (!hospital) {\r\n        this.建造('医馆')\r\n        return \r\n      } else if (hospital.客人.length > 0) {\r\n        const 客人 = hospital.客人.pop()\r\n        this.addTemplateMemory('工作-看病',null,{B:客人})\r\n      }\r\n    },\r\n\r\n    猎人的工作() {\r\n      const result = Math.random()\r\n      if (result > 0.8) {\r\n        this.addTemplateMemory('打猎-成果-狐狸')\r\n        this.装入仓库('狐狸')\r\n      } else if (result > 0.5) {\r\n        this.addTemplateMemory('打猎-成果-兔子')\r\n        this.装入仓库('兔子')\r\n      } else {\r\n        this.addTemplateMemory('打猎-成果-空手而归')\r\n      }\r\n    },\r\n\r\n    织工的工作() {\r\n      const thing = this.拿出物品('棉花',100) \r\n      if (!thing) {\r\n        this.addTemplateMemory('织布-缺材料')\r\n        return\r\n      }\r\n      this.装入仓库('布')\r\n    },\r\n\r\n    农夫的工作() {\r\n      const farmlands = this.estates.filter(building => {\r\n        return building.structure == '农田'\r\n      })\r\n      farmlands.forEach(farmland => {\r\n        const plant = farmland.warehouse[0]\r\n        if (plant && plant.maturity != '成熟') {\r\n          this.addTemplateMemory('工作-田间劳作',null)\r\n        } else if (plant && plant.status == '成熟') {\r\n          this.harvest(farmland)\r\n        } else if (plant && plant.status == '枯草') {\r\n          this.harvest(farmland)\r\n        } else if (!plant) {\r\n          this.sow(farmland)\r\n        } else {\r\n          console.log(new Error())\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nexport const 主职业信息表 = [\r\n  {\r\n    occupation: '大夫',\r\n    skill: '医术',\r\n    relyOn: '医馆'\r\n  }, {\r\n    occupation: '农夫',\r\n    skill: '耕种',\r\n    relyOn: '农田'\r\n  }, {\r\n    occupation: '茶馆',\r\n    skill: '经商',\r\n    relyOn: '商铺'\r\n  }, {\r\n    occupation: '织工',\r\n    skill: '手工',\r\n    relyOn: '织布机'\r\n  }, {\r\n    occupation: '猎人',\r\n    skill: '狩猎',\r\n    relyOn: '猎弓'\r\n  }\r\n]\r\n\r\nconst occupationBySkill = [\r\n  {\r\n    occupation: '大夫',\r\n    skill: '医术',\r\n    relyOn: '医馆'\r\n  }, {\r\n    occupation: '农夫',\r\n    skill: '耕种',\r\n    relyOn: '农田'\r\n  }, {\r\n    occupation: '茶馆',\r\n    skill: '经商',\r\n    relyOn: '商铺'\r\n  }, {\r\n    occupation: '织工',\r\n    skill: '手工',\r\n    relyOn: '织布机'\r\n  }\r\n]\r\n\r\nconst 商铺数据 = [\r\n  {\r\n    类型: '茶馆',\r\n    工作: '茶馆掌柜',\r\n    产品: '休闲点'\r\n  },{\r\n    类型: '医馆',\r\n    工作: '大夫',\r\n    产品: '治疗点'\r\n  },{\r\n    类型: '客栈',\r\n    工作: '客栈掌柜',\r\n    产品: '落脚点'\r\n  }\r\n]\r\n\r\nconst 民宅 = [\r\n  ['草屋','落脚点'],\r\n  ['木屋','落脚点']\r\n]\r\n\r\nconst 耕地 = [\r\n  ['田地','农夫工作点'],\r\n  ['盐碱地','农夫工作点']\r\n]\r\n\r\nconst 工具 = [\r\n  {\r\n    类型: '织布机',\r\n    原料: '棉花',\r\n    产物: '布匹'\r\n  }\r\n]","export default class Creature {\r\n  domain //界：植物界，动物界\r\n  type\r\n  genus //属：小麦属\r\n  species //种：普通小麦\r\n  maturity = 0\r\n\r\n  constructor(prefabName,data) {\r\n    if (!prefabName) return //新建 or 加载存档\r\n\r\n    let prefab;\r\n    if (prefabName == 'auto_plant') {\r\n      prefab = _.sample(creature_prefabs.filter(e => e.domain == 'plant'))\r\n      Object.assign(this, prefab)\r\n    } else {\r\n      prefab = creature_prefabs.find(e => e.name == prefabName)\r\n    }\r\n    if (prefab) {\r\n      Object.assign(this, prefab)\r\n    } else {\r\n      console.log(new Error())\r\n    }\r\n\r\n    data && Object.keys(this).forEach(e=>{\r\n      if (data[e])\r\n        this[e] = data[e]\r\n    })\r\n  }\r\n\r\n  grow() {\r\n    this.maturity += 1\r\n    if (this.maturity == 20) {\r\n      this.status = '幼苗'\r\n    } else if (this.maturity == this.生长天数) {\r\n      this.status = '成熟'\r\n    } else if (this.maturity == this.生长天数*2) {\r\n      this.wither()\r\n    }\r\n  }\r\n\r\n  harvest() {\r\n    \r\n  }\r\n\r\n  wither() {\r\n    this.status = '枯草'\r\n    this.type = '枯草'\r\n  }\r\n}\r\n\r\nexport const creature_prefabs = [\r\n  {\r\n    name: '普通小麦',\r\n    domain: 'plant',\r\n    genus: '小麦属',\r\n    species: '普通小麦',\r\n    status: '种子',\r\n    产出: '小麦',\r\n    产量: 500,\r\n    播种月份: '9,10',\r\n    生长天数: 240\r\n  }, {\r\n    name: '草棉',\r\n    domain: 'plant',\r\n    genus: '棉属',\r\n    species: '草棉',\r\n    status: '种子',\r\n    产出: '棉花',\r\n    产量: 100,\r\n    播种月份: '3,4,5',\r\n    生长天数: 130,\r\n  }, {\r\n    name: '水稻',\r\n    domain: 'plant',\r\n    genus: '稻属',\r\n    species: '稻',\r\n    status: '种子',\r\n    产出: '水稻',\r\n    产量: 500,\r\n    播种月份: '5,6',\r\n    生长天数: 120,\r\n  }\r\n]","import Creature from \"../Creature\"\r\n\r\nexport default {\r\n  init(that) {\r\n  },\r\n  mixin: {\r\n    进食() {\r\n      this.拿出物品('食物')\r\n    },\r\n\r\n    搬家(newHome) {\r\n      const oldHome = this.家 ? this.家 : null\r\n  \r\n      this.家 = newHome\r\n      newHome.使用权.push(this)\r\n      this.addTemplateMemory(\"系统-搬家\")\r\n  \r\n      if (oldHome) {\r\n        oldHome.warehouse.forEach(e=>this.装入仓库(e.类型, e.number))\r\n        oldHome.warehouse = []\r\n        oldHome.使用权 = oldHome.使用权.filter(e=>e!=this)\r\n      }\r\n    },\r\n    求亲(B) {\r\n      this.addTemplateMemory('亲事-起-发起方',null,{B})\r\n      this.makeInvation(B,'求亲')\r\n    },\r\n    娶(spouse) {\r\n      this.spouse = spouse\r\n      spouse.spouse = this\r\n      this.家主 = this\r\n      spouse.家主 = this\r\n      spouse.搬家(this.家)\r\n\r\n      this.调整需求('想要结婚',-50)\r\n      spouse.调整需求('想要结婚',-50)\r\n    },\r\n\r\n    buildRelationship(B,熟悉,纯洁,buff) {\r\n      if (!B) console.log(new Error())\r\n      const re = {\r\n        B,\r\n        熟悉,\r\n        纯洁,\r\n        buff: new Set()\r\n      }\r\n      if (buff)\r\n        re.buff.add(buff)\r\n  \r\n      this.relationships.push(re)\r\n      return re\r\n    },\r\n    makeAppointment(year,month,date,B,content) {\r\n      this.appointments.push({\r\n        year,month,date,\r\n        B,\r\n        content\r\n      })\r\n    },\r\n\r\n    goTo(area) {\r\n      if (area == '回家') {\r\n        if (this.工作媒介) {\r\n          area = this.工作媒介.area\r\n        } else {\r\n          area = this.家乡\r\n        }\r\n      } else if (typeof area == 'string') {\r\n        area = this.World.areas.find(e=>e.name == area)\r\n      }\r\n  \r\n      if (!area) {\r\n        console.log(new Error())\r\n        console.log(\"找不到\",area)\r\n        return\r\n      }\r\n      if (area == this.area) {\r\n        return \r\n      }\r\n  \r\n      this.addTemplateMemory('系统-搬家')\r\n      this.area = area\r\n    },\r\n\r\n    从当地市场买东西(thingName,number) {\r\n      const onSale = this.area.市场.find(e=>e.物品 == thingName)\r\n      if (onSale) {\r\n        onSale.市场量 -= number\r\n        this.money -= onSale.市场价*number\r\n        this.装入仓库(thingName,number)\r\n      } else {\r\n        console.log(new Error())\r\n      }\r\n    },\r\n\r\n    盖房子() {\r\n      const house = this.build('茅草屋')\r\n      this.area.estates.push(house)\r\n      this.estates.push(house)\r\n      this.搬家(house)\r\n    },\r\n    开垦农田() {\r\n      const farmland = this.build('农田')\r\n      this.area.estates.push(farmland)\r\n      this.estates.push(farmland)\r\n    },\r\n    建造商铺() {\r\n      const shop = this.build('商铺')\r\n      this.area.estates.push(shop)\r\n      this.estates.push(shop)\r\n    },\r\n    建造(name) {\r\n      const artifact = this.build(name)\r\n      this.area.estates.push(artifact)\r\n      this.estates.push(artifact)\r\n    },\r\n\r\n    找人滚床单() {\r\n      const B = this.relationships.find(_B=>{\r\n        if (_B.sex != this.sex) {\r\n          return true\r\n        }\r\n      })\r\n    \r\n      if (B) {\r\n        this.makeInvation(B,'滚床单')\r\n      } else {\r\n        // 找不到人滚床单\r\n      }\r\n    },\r\n\r\n    sow(farmland,plantName) {\r\n      if (!plantName) {\r\n        plantName = 'auto_plant'\r\n      }\r\n      const plant = new Creature(plantName)\r\n      farmland.warehouse.push(plant)\r\n\r\n      this.addTemplateMemory('系统-种植',null,{A:this,D1:plant.name})\r\n    },\r\n\r\n    给人测灵根(A){ //给 A 测灵根\r\n      A.灵根 = ''\r\n      '金 木 水 火 土'.split(' ').forEach(e=>{\r\n        if(A[e]>5) {\r\n          A.灵根 += e\r\n        }\r\n      })\r\n      A.addTemplateMemory(`仙途-被测灵根`,null,{B:this,D1:A.灵根})\r\n    },\r\n    举办升仙大会() {\r\n      this.addTemplateMemory('仙途-举办升仙大会',null,{SECT:this.sect})\r\n      this.area.addBroadcast('升仙大会',this.sect,this)\r\n      this.setInteractionEvent('参加升仙大会',true)\r\n    },\r\n    结束升仙大会() {\r\n      this.setInteractionEvent('参加升仙大会',false)\r\n    },\r\n    参加升仙大会(B) {\r\n      const SECT = B.sect\r\n      this.addTemplateMemory('仙途-报名',null,{SECT})\r\n    },\r\n    主持升仙大会(B) {\r\n      this.addTemplateMemory('仙途-遇到报名',null,{B})\r\n      \r\n      this.给人测灵根(B)\r\n      \r\n      if (B.灵根.length < 4) {\r\n        this.sect.收入门下(B)\r\n        B.加入宗门(this.sect)\r\n        this.sect.addTemplateMemory('仙途-收弟子',null,{SECT:this,B})\r\n        return true\r\n      } else {\r\n        this.sect.addTemplateMemory('仙途-表示对方没有修仙资质',null,{A:this,B})\r\n        return false\r\n      }\r\n    },\r\n\r\n    增加面熟值(B,num) {\r\n      const re = this.relationships.find(_re=>{\r\n        return _re.B == B\r\n      })\r\n      if (re) {\r\n        re.熟悉 += num\r\n      } else {\r\n        this.buildRelationship(B,num,0)\r\n      }\r\n    },\r\n\r\n    装入仓库(type, number) {\r\n      number || (number = 1)\r\n      if (!this.家) {\r\n        this.addTemplateMemory('系统-没地方放东西',null,{D1:`【${type}】*${number}`})\r\n      } else {\r\n        const warehouse = this.家.warehouse\r\n        const sameThing = warehouse.find(e=> e.类型==type)\r\n        if (sameThing) \r\n          sameThing.number += number\r\n        else warehouse.push({\r\n          '类型': type,\r\n          number\r\n        })\r\n        this.addTemplateMemory(`系统-获得物品`,null,{D1:`【${type}】*${number}`})\r\n      }\r\n    },\r\n\r\n    拿出物品(type,number) {\r\n      if (!number) {\r\n        number = 1\r\n      }\r\n      let 可用物资 = []\r\n      if (this.家) {\r\n        可用物资 = this.家.warehouse\r\n      }\r\n  \r\n      if (type == '食物') {\r\n        const foods = '小麦，水稻'\r\n        const food = 可用物资.find(e=>foods.indexOf(e.类型)>=0 && e.number > 0 )\r\n        if (food) {\r\n          food.number -= number\r\n        } else {\r\n          const wantFood = _.sample(foods.split('，'))\r\n          this.area.buyFromMarket(this,wantFood,100)\r\n        }\r\n      } else {\r\n        const item = 可用物资.find(e=>e.类型== type && e.number >= number)\r\n        if (item) {\r\n          item.number -= number\r\n          return true\r\n        } else {\r\n          this.addTemplateMemory('系统-欲拿出没能拿出',null,{D1:`【${type}】*${number}`})\r\n          return false\r\n        }\r\n      }\r\n    },\r\n\r\n    散步() {\r\n      //散步的过程与某人产生了些许关联\r\n      if (Math.random() > 0.8) {\r\n        const B = _.sample(this.World.characters.filter(character => character.area == this.area))  \r\n        \r\n        if (!B || B == this) {\r\n          return 0\r\n        }\r\n        \r\n        const re = this.relationships.find(_re=>_re.B==B)\r\n        if (re) {\r\n          re.熟悉 += 1\r\n          this.addTemplateMemory('散步-规则模板', '散步-巧遇熟人', {B})\r\n        } else {\r\n          this.addTemplateMemory('散步-规则模板', '散步-相谈甚欢', {B})\r\n          this.buildRelationship(B,1,0)\r\n        }\r\n      } else if (Math.random() > 0.4) {\r\n        const event = _.sample(['散步-看农田风景','散步-看天上风景'])\r\n        this.addTemplateMemory('散步-规则模板', event)\r\n      } else {\r\n      }\r\n    },\r\n    \r\n    走访亲友(re) {\r\n      if (!re) {\r\n        re = _.sample(this.relationships)\r\n      }\r\n      this.addTemplateMemory('人际-看望',null,{B:re.B})\r\n      re.熟悉 += 1\r\n      re.B.被人拜访(this)\r\n    },\r\n    被人拜访(B) {\r\n      this.增加面熟值(B,1)\r\n      this.addTemplateMemory('人际-被人拜访',null,{B})\r\n    },\r\n\r\n    主动搭话(B, args) {\r\n      let rule, topic\r\n      if (args) {\r\n        rule = args[0]\r\n        topic = args[1]  \r\n      } else {\r\n        rule = '人际-闲聊'\r\n        topic = '天气'\r\n      }\r\n\r\n      this.addTemplateMemory(rule+'-规则模板-主动', rule+'-'+topic, {B})\r\n      this.增加面熟值(B,1)\r\n    },\r\n    被搭话(B,args) {\r\n      let rule, topic\r\n      if (args) {\r\n        rule = args[0]\r\n        topic = args[1]  \r\n      } else {\r\n        rule = '人际-闲聊'\r\n        topic = '天气'\r\n      }\r\n      if (!topic) topic = '天气'\r\n      this.addTemplateMemory(rule+'-规则模板-被动', rule+'-'+topic, {B})\r\n      this.增加面熟值(B,1)\r\n    }\r\n  }\r\n}","import { 主职业信息表 } from './Work.js'\r\n\r\n/** AI行为 */\r\nconst needs = '追求仙缘,劳动赚钱,孤独,想要结婚,滚床单,提升自我,休闲娱乐'.split(',')\r\n\r\nexport default {\r\n  init(that) {\r\n    that.需求 = []\r\n    needs.forEach(e=>that.需求.push({\r\n      action: e,\r\n      level: 0\r\n    }))\r\n\r\n    that.taskList = []\r\n\r\n    that.落脚点 = null\r\n  },\r\n  mixin: {\r\n    释放需求() {\r\n      this.需求 = this.需求.sort(function(a,b){\r\n        return b.level - a.level;\r\n      })\r\n      const need = this.需求[0]\r\n      if (need.level > 0) {\r\n        const satisfaction = this[need.action]()\r\n        need.level -= satisfaction\r\n        if (need.level < 0) \r\n          need.level = 0\r\n      }\r\n    },\r\n    产生需求() {\r\n\r\n      if (!this.sect && this.month>12*14) {\r\n        this.调整需求('劳动赚钱',2)\r\n      }\r\n    \r\n      if (!this.spouse && !this.sect && this.month>12*5 && this.month<12*30 && Math.random()>0.95) {\r\n        this.addTemplateMemory(\"仙途-萌生求仙之意\",null,{A:this})\r\n        this.调整需求('追求仙缘',6)\r\n      }\r\n  \r\n      if (this.month > 12) {\r\n        this.调整需求('孤独',this.BIG_FIVE_Openness)\r\n      }\r\n    \r\n      if (!this.spouse && this.职业!='修士') {\r\n        if (this.month > 12*15 && Math.random()>0.9) {\r\n          this.调整需求('想要结婚',1)\r\n        }\r\n        if (this.month > 12*16 && Math.random()>0.9) {\r\n          this.调整需求('想要结婚',1)\r\n        }\r\n        if (this.month > 12*20 && Math.random()>0.4) {\r\n          this.调整需求('想要结婚',1)\r\n        }\r\n      } else if (this.职业!='修士') {\r\n        this.调整需求('滚床单', 2)\r\n      }\r\n\r\n      this.调整需求('休闲娱乐', 5)\r\n    },\r\n\r\n    孤独() {\r\n      if (this.relationships.length>0 && Math.random() > 0.9) {\r\n        const re = _.sample(this.relationships)\r\n        this.走访亲友(re)\r\n      } else {\r\n        const B = _.sample(this.World.characters.filter(character => character.area == this.area))  \r\n        \r\n        if (!B || B == this) {\r\n          return 0\r\n        } else {\r\n          this.找话题搭话(B)\r\n        }\r\n      }\r\n      return 1\r\n    },\r\n\r\n    找话题搭话(B) {\r\n      if (this.relationships.find(re => re.B == B)){\r\n        const rule = '人际-闲聊'\r\n        const topic = _.sample(['求仙','天气','吃饭','合欢宗'])\r\n        this.interactWith(B,'主动搭话',[rule,topic])\r\n      } else {\r\n        const rule = '人际-初见-搭话'\r\n        const topic = _.sample(['气宇轩昂','来处'])\r\n        this.interactWith(B,'主动搭话',[rule,topic])\r\n      }\r\n    },\r\n\r\n    被求亲(invation) {\r\n      const B = invation.A\r\n      this.addTemplateMemory('亲事-起-被求亲',null,{B})\r\n      let replay = 'no'\r\n      let memoryKey, memoryData = {B}\r\n      if (this.spouse) {\r\n        memoryKey = '亲事-承-拒绝-已成家'\r\n      } else {\r\n        const re = this.relationships.find(re=>re.B == B)\r\n        if (re && re.熟悉 > 20) {\r\n          memoryKey = '亲事-承-应允'\r\n          replay = 'ok'\r\n        } else {\r\n          memoryKey = '亲事-承-拒绝-婉拒-好人卡'\r\n        }\r\n      }\r\n      this.回应邀约(invation,replay,memoryKey,memoryData)\r\n    },\r\n    调整需求(needName,num) {\r\n      const need = this.需求.find(e=>e.action==needName)\r\n      need.level += num\r\n      if (need.level > 50) {\r\n        need.level = 50\r\n      } else if ( need.level < 0) {\r\n        need.level = 0\r\n      }\r\n    },\r\n\r\n    确定落脚点() {\r\n\r\n    },\r\n\r\n    给自己确定一个职业(occupation) {\r\n      if (occupation) {\r\n        this.职业 = occupation\r\n      } else if (this.sect) {\r\n        this.职业 = '修士'\r\n      } else {\r\n        // AI 选择职业策略\r\n       \r\n        const chosen = 主职业信息表.reduce((e1,e2)=>{\r\n          if (this.skillsLevel[e2.skill] > this.skillsLevel[e1.skill])\r\n            return e2\r\n          else return e1\r\n        })\r\n        this.职业 = chosen.occupation\r\n      }\r\n    },\r\n\r\n    想要结婚() {\r\n      const getLevel = (re) => {\r\n        if(!re || re.B.spouse || re.B.sex == this.sex) return -1\r\n        return re.熟悉-re.纯洁\r\n      }\r\n      const re = this.relationships.reduce((re1,re2)=>{\r\n        if (getLevel(re1) < getLevel(re2)) {\r\n          return re2\r\n        } else {\r\n          return re1\r\n        }\r\n      },null) //this.relationships 可能为空，所以需要初始值\r\n      if (getLevel(re) > 20) {\r\n        this.求亲(re.B)\r\n      }\r\n      return 1\r\n    },\r\n\r\n    劳动赚钱() {\r\n      if (!this.职业) {\r\n        this.给自己确定一个职业()\r\n      }\r\n\r\n      this.工作点数 += 10\r\n      return 1\r\n    },\r\n\r\n    追求仙缘() {\r\n      //到某地去寻找有没有升仙大会\r\n      const area = _.sample(this.World.areas)\r\n      this.goTo(area) \r\n  \r\n      const event = this.area.broadcastBoard.find(e=>e.活动名称 == '升仙大会')\r\n      if (event) this.interactWith(event.主持人, '参加升仙大会')\r\n       else {\r\n        this.addTemplateMemory('仙途-失败-没找到仙缘',null,{A:this})\r\n        this.goTo('回家')\r\n      }\r\n  \r\n      return 1\r\n    },\r\n\r\n    休闲娱乐() {\r\n      this.散步()\r\n      return 1\r\n    },\r\n\r\n    求偶(Manager,character) {\r\n  \r\n    },\r\n\r\n    生理需求() {\r\n      //衣食住行\r\n    },\r\n    \r\n    安全需求() {\r\n  \r\n    },\r\n    \r\n    感情需求() {\r\n  \r\n    },\r\n  \r\n    尊重需求() {\r\n  \r\n    },\r\n  \r\n    自我实现需求() {\r\n      \r\n    },\r\n      \r\n    学习() {\r\n      \r\n    }\r\n  }\r\n}","export default class Artifact {\r\n  /* 内部属性 */\r\n  material = '木制'\r\n  structure\r\n  name\r\n  \r\n  /* 外部属性 */\r\n  owner\r\n  area\r\n  warehouse = []\r\n  使用权 = []\r\n\r\n  /* 商铺属性 */\r\n  classification  //茶馆 医馆\r\n  isOpen\r\n  客人 = []\r\n\r\n  constructor(prefebName,data) {\r\n    if (data) {\r\n      const prefab = prefabs[prefebName]\r\n      Object.assign(this, prefab)\r\n\r\n      Object.keys(this).forEach(e=>{\r\n        if (data[e])\r\n          this[e] = data[e]\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nconst prefabs = {\r\n  农田: {\r\n    name: '农田',\r\n    structure: '农田',\r\n    material: '土'\r\n  },\r\n  茅草屋: {\r\n    name: '茅草屋',\r\n    structure: '民宅',\r\n    material: '茅草'\r\n  },\r\n  小木屋: {\r\n    name: '小木屋',\r\n    structure: '民宅',\r\n    material: '木头'\r\n  },\r\n  土屋: {\r\n    name: '土屋',\r\n    structure: '民宅',\r\n    material: '土'\r\n  },\r\n  商铺: {\r\n    name: '商铺',\r\n    structure: '商铺',\r\n    material: '土'\r\n  },\r\n  医馆: {\r\n    name: '医馆',\r\n    structure: '商铺',\r\n    material: '土'\r\n  },\r\n  茶馆: {\r\n    name: '茶馆',\r\n    structure: '商铺',\r\n    material: '土'\r\n  },\r\n  蚕卵包: {\r\n    name: '蚕卵包',\r\n    structure: '杂物',\r\n    material: '蚕卵',\r\n    使用获得物品: '蚕卵',\r\n    使用获得数量: 100\r\n  },\r\n  一把桑叶: {\r\n    name: \"一把桑叶\",\r\n    structure: '杂物',\r\n    material: '桑叶',\r\n    使用获得物品: '桑叶',\r\n    使用获得数量: 100\r\n  }\r\n}","import Artifact from \"../Artifact.js\"\r\nimport Creature from \"../Creature.js\"\r\n\r\nexport default {\r\n  init(that) {\r\n    that.skillsLevel = {\r\n      医术: 0,\r\n      耕种: 0,\r\n      经商: 0,\r\n      狩猎: 0,\r\n      运动: 0,\r\n      手工: 0\r\n    }\r\n    //天赋\r\n    Object.keys(that.skillsLevel).forEach(skill => that.skillsLevel[skill] = Math.floor(Math.random() * 40))\r\n    that.skillsLevel\r\n  },\r\n  mixin: {\r\n    build(prefabName) {\r\n      const { area } = this\r\n      const artifact = new Artifact(prefabName,{\r\n        area,\r\n        owner: this\r\n      })\r\n      return artifact\r\n    },\r\n    harvest(farmland) {\r\n      const plant = farmland.warehouse.pop()\r\n      if (plant.status == '成熟') {\r\n        this.装入仓库(plant.产出,plant.产量) \r\n        this.addTemplateMemory('系统-丰收',null,{D1:`${plant.产出}*${plant.产量}`})\r\n      } else {\r\n        this.addTemplateMemory('系统-割除',null,{D1:plant.name})\r\n      }\r\n    },\r\n\r\n    纺纱() {\r\n\r\n    },\r\n\r\n    织布(material,itemName) {\r\n      \r\n    },\r\n\r\n    烹饪(material,foodName) {\r\n      return foodName\r\n    }\r\n  }\r\n}","\r\n\r\nexport function mixinWithInit(that, mixin) {\r\n  mixin.init(that)\r\n  Object.assign(that,mixin.mixin)\r\n}\r\n\r\nexport function mixinOnlyFunc(that, mixin) {\r\n  Object.assign(that,mixin.mixin)\r\n}\r\n\r\nexport function mixin(that, mixin, world) {\r\n  Object.assign(that,mixin.mixin)\r\n  if (world) {\r\n    mixin.init(that)\r\n  }\r\n}","/*\r\n角色信息，pc与npc通用\r\n*/\r\nimport NameList from '@/assets/name.json'\r\nimport Cultivation from './mixin/Cultivation'\r\nimport Memory from './mixin/Memory'\r\nimport Body from './mixin/Body'\r\nimport Invation from './mixin/Invation'\r\nimport Interaction from './mixin/Interaction'\r\nimport Work from './mixin/Work'\r\nimport Action from './mixin/Action'\r\nimport Brain from './mixin/Brain'\r\nimport Skill from './mixin/Skill'\r\nimport { mixinWithInit, mixinOnlyFunc, mixin} from '../utils/mixin.js'\r\n\r\nexport default class Character extends Cultivation {\r\n\r\n  World\r\n  isNpc = true\r\n  area\r\n\r\n  name\r\n  surname\r\n  givenName\r\n  spouse\r\n  家主\r\n  relationships = []\r\n  appointments = []\r\n  家乡\r\n  家\r\n\r\n  sex\r\n  healthy = 100\r\n  consititution = 0\r\n  intelligence = 0\r\n  charm = 0\r\n  walkAble = false\r\n  living = true\r\n  pregnent = -1\r\n  mother = null //生物学母亲\r\n  father = null //生物学父亲\r\n\r\n  events = []\r\n  children = []\r\n\r\n  money = 0\r\n  estates = []\r\n\r\n  精力 = 0\r\n\r\n  BIG_FIVE_Openness = 5 //开放性\r\n  BIG_FIVE_Conscientiousness = 5 //尽责性\r\n  BIG_FIVE_Extraversion = 5 //外倾性\r\n  BIG_FIVE_Agreeableness = 5 //宜人性\r\n  BIG_FIVE_Neuroticism = 5 //神经质\r\n\r\n  constructor(World,sex,area) {\r\n    super()\r\n\r\n    mixin(this, Skill, World)\r\n    mixin(this, Memory, World)\r\n    mixin(this, Body, World)\r\n    mixin(this, Invation, World)\r\n    mixin(this, Work, World)\r\n    mixin(this, Action, World)\r\n    mixin(this, Interaction, World)\r\n    mixin(this, Brain, World)\r\n    if (!World) return //如果没有传入 World，说明不是新建而是加载，无需后续步骤。\r\n\r\n    if (sex)\r\n      this.sex = sex\r\n    else \r\n      this.sex = Math.random() > 0.5 ? '男' : '女'\r\n    \r\n    this.month = 0\r\n\r\n    this.World = World\r\n    this.World.characters.push(this)\r\n\r\n    const name = createName(this.sex)\r\n    this.surname = name.surname\r\n    this.givenName = name.givenName\r\n    this.name = this.surname + this.givenName //api糖\r\n    //性格(大五)随机\r\n    const theBigFive = ['Openness','Conscientiousness','Extraversion','Agreeableness','Neuroticism']\r\n    for( const e of theBigFive) {\r\n      this[`BIG_FIVE_${e}`] = Math.round(Math.random()*10)\r\n    }\r\n\r\n    //魅力\r\n    this.charm = Math.round(Math.random()*10)\r\n    this.获得长相()\r\n\r\n    this.area = area\r\n    this.家乡= area\r\n  }\r\n\r\n  load(data) {\r\n    Object.assign(this,data)\r\n    this.name = this.surname+this.givenName\r\n  }\r\n\r\n  tickerDay() {\r\n\r\n    this.进食()\r\n\r\n    if (this.工作点数 > 0) {\r\n      this.工作点数 --\r\n      this.维护日常工作()\r\n    }\r\n\r\n    if (this.isNpc && this.精力 && this.invations.length>0) {\r\n      const todayReplay = this.invations.find(e=>e.B==this&&!e.replay)\r\n      if (todayReplay) {\r\n        this.精力 -- \r\n        if (todayReplay.content == '求亲') {\r\n          this.被求亲(todayReplay)\r\n        }\r\n      }\r\n    }\r\n\r\n    this.邀约善后()\r\n\r\n    if (this.精力 > 0 && Math.random()>0.2) {\r\n      this.精力 --\r\n      this.释放需求()\r\n    }\r\n  }\r\n\r\n  tickerMonth() {\r\n    this.精力 = 10  \r\n    this.month ++\r\n\r\n    /*********  必测状态  *********/  \r\n\r\n    if (this.month > 10*12 && this.month < 20*12)\r\n      this.春心 ++\r\n\r\n    //是否妊娠中\r\n    if (this.pregnent != -1) {\r\n      if (this.pregnent < 10)\r\n        this.pregnent ++\r\n      else \r\n        this.生子()\r\n    }\r\n\r\n    /*********  当人活着，就要花精力干些各种各样的事  *********/  \r\n    \r\n    this.产生需求()\r\n    this.人的记忆是有限的()\r\n\r\n    /*********  死吗  *********/\r\n    if (this.month < 10*12) {\r\n      if (Math.random() > 0.99) this.die()\r\n    } else if (this.month < 30*12) {\r\n      if (Math.random() > 0.999999) this.die()\r\n    } else if (this.month < 50*12) {\r\n      if (Math.random() > 0.99) this.die()\r\n    } else {\r\n      if (Math.random() > 0.9) this.die()\r\n    }\r\n  }\r\n\r\n  人的记忆是有限的() {\r\n    //熟悉值为 0 的概率遗忘\r\n    this.relationships = this.relationships.filter(re=>{\r\n      if (re.熟悉 == 0 && Math.random()>0.5) return Math.random()>0.5\r\n      else return true\r\n    })\r\n    this.relationships.sort((a,b)=>{\r\n      return b.level-a.level\r\n    })\r\n  }\r\n  \r\n  滚床单() {\r\n    //结果: 如果性别为女，可能怀孕; 如果性别为男，获得愉悦。\r\n    if (this.sex == '男') {\r\n      //happy\r\n    } else if (this.sex == '女') {\r\n      if (this.pregnent == -1 && Math.random()>0.95) {\r\n        this.pregnent = 0\r\n      }\r\n    }\r\n    return 1\r\n  }\r\n\r\n  出生(mother,father) {\r\n    if (mother) {\r\n      this.mother = mother\r\n      this.buildRelationship(mother,30,100,'母亲') //家人的纯洁度极高\r\n    }\r\n    if (father) {\r\n      this.father = father\r\n      this.buildRelationship(father,30,100,'父亲')\r\n    }\r\n    this.获得长相(mother,father)\r\n  }\r\n  \r\n  /*\r\n  女性才有该功能事件。\r\n  前提条件: 妊娠中\r\n  */\r\n  生子() {\r\n  \r\n    const father = this.spouse\r\n    const mother = this\r\n    const child = new Character(this.World,null,this.area)\r\n    child.出生(mother,father)\r\n    child.搬家(this.家)\r\n    this.pregnent = -1\r\n\r\n    //绑定血缘母子、父子关系\r\n    mother.children.push(child)\r\n    if (father) {\r\n      child.surname = father.surname\r\n      father.children.push(child)\r\n    } else {\r\n      child.surname = mother.surname\r\n    }\r\n    child.name = child.surname + child.givenName\r\n    \r\n    //与其他人的两两关系\r\n    mother.buildRelationship(child,50,100,'子女')\r\n    father.buildRelationship(child,50,100,'子女')\r\n\r\n    for (const _child of mother.children) {\r\n      if (child == _child) return\r\n\r\n      const BtoA = this.sex == '男' ? '哥哥' : '姐姐'\r\n      child.buildRelationship(_child,10,100,BtoA)\r\n\r\n      const AtoB = child.sex == '男' ? '弟弟' : '妹妹'\r\n      _child.buildRelationship(child,10,100,AtoB)\r\n\r\n    }\r\n  }\r\n}\r\n\r\nfunction createName(sex) {\r\n  let surname, givenName\r\n\r\n  if (sex && Math.random() > 0.9) {\r\n    if (sex == '男') {\r\n      givenName =  _.sample(NameList.specialMale)\r\n    } else if (sex == '女') {\r\n      givenName =  _.sample(NameList.specialFemale)\r\n    } \r\n  } else {\r\n    const rand = Math.random()\r\n    if (rand > 0.8) { //单字名\r\n      givenName = _.sample(NameList.single)\r\n    }\r\n    else if (rand > 0.3) { //随机拼凑双字名\r\n      givenName = _.sample(NameList.single) + _.sample(NameList.single)\r\n    }\r\n    else { //指定双字名\r\n      givenName = _.sample(NameList.double)\r\n    }\r\n  }\r\n\r\n  //姓\r\n  if (Math.random() > 0.5) {\r\n    surname = _.sample(NameList.surname)\r\n  } else {\r\n    surname = _.sample(NameList.surname, NameList.surnamedouble)\r\n  }\r\n\r\n  return {\r\n    surname,\r\n    givenName\r\n  }\r\n}","\r\nexport default class Area {\r\n  name = '无名之地'\r\n  broadcastBoard = []\r\n  estates = []\r\n\r\n  市场 = 初始市场\r\n\r\n  constructor(name) {\r\n    this.name = name\r\n  }\r\n\r\n  tickerDay() {\r\n\r\n    //初始化\r\n    this.estates.forEach(e=>{\r\n      //if is Shop\r\n      if (e.isOpen == true) {\r\n        e.isOpen = false\r\n      }\r\n      //if is Farmland\r\n      if (e.structure == '农田' && e.warehouse[0]) {\r\n        e.warehouse[0].grow()\r\n      }\r\n    })\r\n  }\r\n\r\n  tickerYear() {\r\n    this.市场.forEach(item => {\r\n      item.市场量 += 100\r\n    })\r\n  }\r\n\r\n  addBroadcast(活动名称,举办方,主持人,开始时间,结束时间) {\r\n    this.broadcastBoard.push({\r\n      活动名称,\r\n      举办方,\r\n      主持人,\r\n      开始时间,\r\n      结束时间\r\n    })\r\n  }\r\n  \r\n  buyFromMarket(character,thingName,number) {\r\n    const onSale = this.市场.find(e=>e.物品 == thingName)\r\n    if (onSale) {\r\n      onSale.市场量 -= number\r\n      character.money -= onSale.市场价*number\r\n      character.装入仓库(thingName,number)\r\n    } else {\r\n      console.log(new Error())\r\n    }\r\n  }\r\n\r\n  sellToMarket(character,thingName,number) {\r\n    const onSale = this.市场.find(e=>e.物品 == thingName)\r\n    if (onSale) {\r\n      onSale.市场量 += number\r\n      character.money -= onSale.市场价*number*0.6\r\n      character.拿出物品(thingName,number)\r\n    } else {\r\n      console.log(new Error())\r\n    }\r\n  }\r\n}\r\n\r\nconst 初始市场 = [\r\n  {\r\n    物品: '棉花',\r\n    市场价: 50,\r\n    市场量: 5000\r\n  },{\r\n    物品: '苎麻',\r\n    市场价: 5,\r\n    市场量: 50000\r\n  },{\r\n    物品: '小麦',\r\n    市场价: 2,\r\n    市场量: 50000\r\n  },{\r\n    物品: '水稻',\r\n    市场价: 2,\r\n    市场量: 50000\r\n  },{\r\n    物品: '猪肉',\r\n    市场价: 20,\r\n    市场量: 500\r\n  },{\r\n    物品: '麻布',\r\n    市场价: 5,\r\n    市场量: 1000\r\n  },{\r\n    物品: '棉布',\r\n    市场价: 500,\r\n    市场量: 100\r\n  }, {\r\n    物品: '蚕卵包',\r\n    市场价: 10,\r\n    市场量: 100\r\n  }\r\n]","import Memory from './mixin/Memory'\r\nimport { mixinWithInit, mixinOnlyFunc} from '../utils/mixin'\r\n\r\nexport default class Sect {\r\n  name = '合欢派'\r\n  World\r\n  characters = []\r\n  master = null\r\n  memories = []\r\n  可执行事件 = []\r\n  masterEvents = ['主持灵根测试']\r\n  area = null\r\n  宗门事务 = []\r\n\r\n  constructor (World,name) {\r\n    if (World) {\r\n      mixinWithInit(this, Memory)\r\n    } else {\r\n      mixinOnlyFunc(this, Memory)\r\n      return \r\n    }\r\n    \r\n    this.name = name\r\n    this.World = World\r\n\r\n    //新成立一个宗派，会带来以下影响\r\n    this.area = World.addArea(this.name+'地界') \r\n  }\r\n\r\n  tickerMonth() {\r\n    const { month, date } = this.World.calendar\r\n    if (month == 2) {\r\n      this.宗门事务.举办升仙大会 = 1\r\n    } else {\r\n      this.宗门事务.举办升仙大会 = 0\r\n    }\r\n  }\r\n\r\n  tickerDay() {\r\n    Object.keys(this.宗门事务).forEach(key=>{\r\n      if (this.宗门事务[key] > 0) {\r\n        if (this.master) {\r\n          this[key](this.master)\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  任命掌门(character) {\r\n    this.master = character  //掌门\r\n  }\r\n\r\n  收入门下(character) {\r\n    this.characters.push(character)\r\n    if (this.characters.length == 1) {\r\n      this.任命掌门(character)\r\n    }\r\n  }\r\n\r\n  举办升仙大会(host) {\r\n    host.举办升仙大会()\r\n    this.宗门事务.举办升仙大会 = 0\r\n  }\r\n\r\n  发布宗门任务() { \r\n  }\r\n  举办外门比试赛() {\r\n  }\r\n  调配物资() { \r\n  }\r\n}\r\n\r\nconst 宗门事务 = {\r\n  举办升仙大会: 0\r\n}","import Area from \"./Area\"\r\nimport Character from \"./Character\"\r\nimport Sect from \"./Sect\"\r\nimport master1 from '/public/fixedNPC/飞雪.json'\r\n\r\nexport default class World {\r\n  characters = []\r\n  sects = []\r\n  areas = []\r\n\r\n  社会安定度 = 50\r\n\r\n  calendar = {\r\n    year: 0,\r\n    month: 0,\r\n    date: 25\r\n  }\r\n  maxId = 0\r\n\r\n  config = {\r\n    游戏速度: 2,\r\n    记忆展示顺序: \"逆序\",\r\n    快进到某年: 1,\r\n    初始角色数: 10\r\n  }\r\n  constructor(config) {\r\n    this.addArea('平山镇')\r\n    this.addArea('落霞村')\r\n    this.addSect('合欢宗',master1)\r\n    this.addArea('昆仑山')\r\n    Object.assign(this.config, config)\r\n    \r\n  }\r\n\r\n  tickerDay() {\r\n\r\n    this.areas.forEach(area=>area.tickerDay())\r\n  \r\n    //过程\r\n    this.characters.forEach(character=>{\r\n      if (character.living)\r\n        character.tickerDay()\r\n    })\r\n\r\n    this.sects.forEach(sect=>sect.tickerDay())\r\n    //收尾\r\n  }\r\n\r\n  tickerMonth() {\r\n    for( const character of this.characters) {\r\n      if (character.living)\r\n        character.tickerMonth()\r\n    }\r\n  \r\n    this.sects.forEach(sect=>sect.tickerMonth())\r\n  }\r\n\r\n  addSect(name,masterData) {\r\n    const sect = new Sect(this,name)\r\n    this.sects.push(sect)\r\n    if (masterData) {\r\n      const master = new Character(this,null,sect.area)\r\n      master.load(masterData)\r\n      sect.收入门下(master)\r\n      master.sect = sect\r\n    }\r\n    return sect\r\n  }\r\n\r\n  addArea(name) {\r\n    const area = new Area(name)\r\n    this.areas.push(area)\r\n    return area\r\n  }\r\n\r\n}\r\n","import * as XLSX from 'xlsx'\r\n\r\nclass Event {\r\n  availableList = null\r\n  spiritualState = null\r\n  loaded = null\r\n\r\n  constructor() {\r\n    this.loaded = fetch('幻想生活.xlsx')\r\n    .then(result=>result.arrayBuffer())\r\n    .then(res=>{\r\n      const workbook = XLSX.read(new Uint8Array(res), {\r\n        type: 'array'\r\n      });\r\n      this.availableList = XLSX.utils.sheet_to_json(workbook.Sheets['可触发事件'])\r\n      //this.spiritualState = XLSX.utils.sheet_to_json(workbook.Sheets['状态境界'])\r\n    })\r\n  }\r\n\r\n\r\n  解决被动(Manager,A,B,re) {\r\n    re.buff.forEach(buff=>{\r\n      this.availableList.find(e=>{\r\n        if (e.触发前置 != buff) return false\r\n        if (this.check(A,B,re,e)) {\r\n        \r\n          re.buff.delete(buff)\r\n          if (e.熟悉变动)   re.熟悉 += Number(e.熟悉变动)\r\n          if (e.纯洁变动)   re.纯洁 += Number(e.纯洁变动)\r\n          if (e.获得buff != '程序处理')  re.buff.add(e.获得buff)\r\n          else {\r\n            //目前只有恋人，所以直接恋人的处理流程\r\n            // A.networking.lover = B\r\n            // A.relationships.forEach(re=>{\r\n            //   if (re.B != B)\r\n            //     re.纯洁 = 0\r\n            // })\r\n          }\r\n          if (e.B获得buff) {\r\n            const reB = B.relationships.find(re=>re.B==A)\r\n            if (reB)  reB.buff.add(e.B获得buff)\r\n            else B.buildRelationship(A,0,0,B.获得buff)\r\n          }\r\n  \r\n          constraint(re)\r\n          //存入记忆\r\n          A.addMemory(B,e)\r\n  \r\n          return true\r\n        }\r\n      })\r\n      if (re.buff.has(buff) && Math.random()>0.9) //如果一个都没匹配到，需要有一个消除的途径\r\n      re.buff.delete(buff)\r\n    })\r\n  }\r\n\r\n  触发当日随机(Manager,A,B,re) {\r\n    this.availableList.forEach(e=>{\r\n      if (Math.random() > e.概率) return\r\n      if (e.触发前置) return\r\n      if (!e.描述) return\r\n\r\n      if (this.check(A,B,re,e)) {\r\n        if (e.熟悉变动)   re.熟悉 += Number(e.熟悉变动)\r\n        if (e.纯洁变动)   re.纯洁 += Number(e.纯洁变动)\r\n        if (e.获得buff)  re.buff.add(e.获得buff)\r\n        if (e.失去buff)  e.失去buff.split('，').forEach(buff=>re.buff.delete(buff))\r\n        if (e.B获得buff) {\r\n          const reB = B.relationships.find(re=>re.B==A)\r\n          if (reB)  reB.buff.add(e.B获得buff)\r\n          else B.buildRelationship(A,0,0,B.获得buff)\r\n        }\r\n        constraint(re)\r\n        //存入记忆\r\n        A.addMemory(B,e)\r\n      }  \r\n    })\r\n  }\r\n\r\n  check(A,B,re,e) {\r\n    let succeed = true, range\r\n\r\n    //验证范围\r\n    const checkTypeOne = {\r\n      需要熟悉: re.熟悉,\r\n      需要纯洁: re.纯洁,\r\n      外倾性: A.BIG_FIVE_Extraversion,\r\n      宜人性: A.BIG_FIVE_Agreeableness,\r\n      神经质: A.BIG_FIVE_Neuroticism,\r\n      年龄: A.month/12,\r\n      B颜值: B.charm,\r\n      B年龄: B.month/12,\r\n    }\r\n    \r\n    for (const key in checkTypeOne) {\r\n      const value = checkTypeOne[key]\r\n      if (e[key]) {\r\n        range = e[key].split('~')\r\n        if (value < range[0] || value > range[1])\r\n          succeed = false\r\n      }\r\n    }\r\n\r\n    //性别\r\n    if (e.性别 && e.性别 != A.sex) succeed = false\r\n    if (e.B性别=='异性' && A.sex == B.sex) succeed = false\r\n    else if (e.B性别 && e.B性别 != B.sex) succeed = false\r\n    \r\n    return succeed\r\n  }\r\n\r\n  checkSpiritualState(human) {\r\n    const e = this.spiritualState.find(e=>{\r\n      if (human.spiritualPower >= e.灵力 && human.spiritualState == e.当前境界) {\r\n        return true\r\n      }\r\n    })\r\n    return e\r\n  }\r\n}\r\n\r\nfunction constraint(re) {\r\n  if (re.熟悉 > 100) re.熟悉 = 100\r\n  if (re.纯洁 < -100) re.纯洁 = -100\r\n  if (re.熟悉 == 0) re.熟悉 = 1\r\n}\r\n\r\n\r\nexport default new Event()","import Character from \"../game-world/Character\"\r\nimport Area from '../game-world/Area'\r\nimport Sect from '../game-world/Sect'\r\nimport World from \"../game-world/World\"\r\nimport Artifact from \"../game-world/Artifact\"\r\nimport Creature from \"../game-world/Creature\"\r\n\r\nconst classList = {\r\n  Character,\r\n  Area,\r\n  Sect,\r\n  World,\r\n  Artifact,\r\n  Creature\r\n}\r\n\r\nexport function saveWorld() {\r\n  const items = []\r\n\r\n  let uid = 0\r\n  const getUID = (item)=>{\r\n    if (!item.uid) {\r\n      item.uid = 'uid_'+uid \r\n      uid ++\r\n      items.push(item)\r\n\r\n      Object.keys(classList).forEach(key=>{\r\n        if (item.constructor == classList[key]) {\r\n          item.classType = key\r\n        }\r\n      })\r\n\r\n      const keys = Object.keys(item)\r\n      keys.forEach(key=>{\r\n        item[key] = iterate(item[key])\r\n      })\r\n    }\r\n    return item.uid\r\n  }\r\n\r\n  function iterate(item) {\r\n    let data\r\n    if (!item) {\r\n      data = item\r\n    } else if (item.constructor == Array) { //typeof 一个array = 'object'\r\n      data = item.reduce((e1,e2)=>{\r\n        e1.push(iterate(e2))\r\n        return e1\r\n      },[])\r\n    } else if (typeof item == 'object' && item!=null) {//typeof null == 'object 是个历史遗留问题\r\n      data = getUID(item)\r\n    } else if (typeof item == 'function') {\r\n      //do nothing\r\n    } else { //基本数据类型（值类型）\r\n      return item\r\n    }\r\n    return data\r\n  }\r\n\r\n  const managerCopy = _.cloneDeep(this)\r\n  const worldCopy = managerCopy.World\r\n  //记忆太大了，暂时不想处理，就先删除吧。但之后还是要找机会恢复，不然记忆编码储存的优势不就起到作用。\r\n  worldCopy.characters.forEach(character => character.memories = [])\r\n\r\n  iterate(worldCopy)\r\n\r\n  const you = managerCopy.you.uid\r\n  items.forEach(e=>delete e.uid)\r\n\r\n  return {\r\n    time: new Date(),\r\n    name: this.you.name,\r\n    items: JSON.stringify(items),\r\n    you\r\n  }\r\n  // return {\r\n  //   time: new Date(),\r\n  //   gameTime: this.World.calendar,\r\n  //   World: worldArchive,\r\n  //   name: this.you.name,\r\n  //   age: (this.you.month/12).toFixed(0)\r\n  // }\r\n}\r\n\r\n\r\nexport function loadWorld(itemsData,yourUID) {\r\n  const items = JSON.parse(itemsData)\r\n\r\n  items.forEach((item,index)=>{\r\n    if (item.classType) {\r\n      const _item = new classList[item.classType]()\r\n      Object.assign(_item,item)\r\n      items[index] = _item\r\n    }\r\n  })\r\n\r\n  console.log(items)\r\n  items.forEach(item=>{\r\n    const keys = Object.keys(item)\r\n    keys.forEach(key=>{\r\n      if (item[key] && item[key].constructor == Array) {\r\n        const arr = item[key]\r\n        arr.forEach((e,i)=>{\r\n          if (!e.split) console.log(arr)\r\n          const uid = e.split('uid_')[1]\r\n          if (uid >= 0) {\r\n            arr[i] = items[uid]\r\n          }\r\n        })\r\n      } else if (item[key] && item[key].constructor == String) {\r\n        const uid = item[key].split('uid_')[1]\r\n        if (uid >= 0) {\r\n          item[key] = items[uid]\r\n        }\r\n      }\r\n    })\r\n  })\r\n\r\n  this.World = items[0]\r\n  yourUID = yourUID.split('uid_')[1]\r\n  this.you = items[yourUID]\r\n\r\n}","import Character from './game-world/Character.js'\r\nimport World from './game-world/World.js'\r\nimport EVENT from './game-world/Events.js'\r\nimport { parseMemory } from './game-world/mixin/Memory'\r\nimport { saveWorld, loadWorld } from './utils/save-load' \r\nimport { creature_prefabs } from './game-world/Creature'\r\nimport { 主职业信息表 } from './game-world/mixin/Work'\r\n\r\nfunction GameManager () {\r\n  this.World\r\n  this.you = null\r\n  this.namesArr = []\r\n  this.playing = false\r\n  this.fastRunning = false\r\n}\r\n\r\nGameManager.prototype.makeArchive = saveWorld\r\nGameManager.prototype.loadArchive = loadWorld\r\nGameManager.prototype.creature_prefabs = creature_prefabs\r\nGameManager.prototype.主职业信息表 = 主职业信息表\r\n\r\nconst 角色配置 = [{\r\n  职业: '掌柜',\r\n  财产: ['茶馆'],\r\n},{\r\n  职业: '大夫',\r\n  财产: ['医馆']\r\n}]\r\n\r\nGameManager.prototype.newGame = function(config) {\r\n  this.World = new World(config)\r\n  return new Promise((resolve)=>{\r\n\r\n    for (let i = 0;i<config.初始角色数; i++) {\r\n\r\n      const character = new Character(this.World,null,this.World.areas[0])\r\n      character.month = 12*14\r\n    \r\n      character.盖房子()\r\n      \r\n      character.开垦农田()\r\n      if (Math.random()>0.5) {\r\n        character.建造商铺()\r\n      }\r\n      character.money = 2000\r\n    }\r\n\r\n    this.fastRunning = true\r\n    const fastRun = ()=>setTimeout(()=>{ //使用 setTimeout 把主线任务变成宏任务，使得每运行完一个宏任务都重新渲染一次UI\r\n      this.aDayGoBy(this)\r\n      if (this.World.calendar.year < config.快进到某年) \r\n        fastRun()\r\n      else if (!this.you) {\r\n        this.setYou(this.World.characters[this.World.characters.length-1])\r\n        fastRun()\r\n      } else if (this.you.month <= 0*12) {\r\n        fastRun()\r\n      } else {\r\n        this.fastRunning = false\r\n        this.play()\r\n        resolve()\r\n      }\r\n    },0)\r\n    fastRun()\r\n  })\r\n}\r\n\r\nGameManager.prototype.play = function () {\r\n  this.stop() //避免重复 play\r\n  this.playing = true\r\n  const speed = 1000/this.World.config.游戏速度\r\n  this.clock = setInterval(()=>{\r\n    this.aDayGoBy(this)\r\n    this.playing = true\r\n  },speed)\r\n}\r\nGameManager.prototype.stop = function () {\r\n  clearInterval(this.clock)\r\n  this.playing = false\r\n}\r\n\r\nGameManager.prototype.aDayGoBy = function () {\r\n  const calendar = this.World.calendar\r\n  calendar.date += 1\r\n  if (calendar.date == 31) {\r\n    calendar.date = 1\r\n    calendar.month += 1\r\n    if (calendar.month == 13) {\r\n      calendar.month = 1\r\n      calendar.year += 1\r\n      //yearSociety(this)\r\n    }\r\n    this.World.tickerMonth()\r\n  }\r\n  this.World.tickerDay()\r\n}\r\n\r\nGameManager.prototype.parseMemory = parseMemory\r\n\r\nGameManager.prototype.setYou = function(character) {\r\n  if (this.you) {\r\n    this.you.isNpc = true\r\n  }\r\n  this.you = character\r\n  this.you.isNpc = false\r\n}\r\n\r\nexport { GameManager }","import { render } from \"./App.vue?vue&type=template&id=20b3e771\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=20b3e771&lang=css\"\n\nimport exportComponent from \"C:\\\\myDevelopment\\\\vscode\\\\fantastic-life\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createRouter, createWebHashHistory } from 'vue-router'\r\n\r\nconst routes = [\r\n  {\r\n    path: '/',\r\n    component: ()=> import('@/layout/Menu.vue')\r\n  },{\r\n    path: '/god-view',\r\n    component: ()=> import('@/views/GodView.vue')\r\n  },{\r\n    path: '/personal-view',\r\n    component: ()=> import(\"@/views/PersonalView.vue\")\r\n  },{\r\n    path: '/game',\r\n    component: ()=> import('@/views/player-view/game/GatherHerbs.vue')\r\n  },{\r\n    path: '/game2',\r\n    component: ()=> import('@/views/player-view/game/FlySword.vue')\r\n  },{\r\n    path: '/gameHunt',\r\n    component: ()=> import('@/views/player-view/game/GameHunt.vue')\r\n  },{\r\n    path: '/gameFarm',\r\n    component: ()=> import('@/views/player-view/game/GameFarm.vue')\r\n  },{\r\n    path: '/livelihood',\r\n    component: ()=> import('@/views/LivelihoodView.vue')\r\n  },{\r\n    path: '/memory-view',\r\n    component: ()=> import('@/views/MemoryView.vue')\r\n  },{\r\n    path: '/menu',\r\n    component: ()=> import('@/layout/Menu.vue')\r\n  },{\r\n    path: '/errorpage',\r\n    component: ()=> import('@/views/player-view/ErrorPage.vue')\r\n  },{\r\n    path: '/relationship',\r\n    component: ()=> import('@/views/RelationshipView.vue')\r\n  },{\r\n    path: '/SettingInGame',\r\n    component: ()=> import('@/views/SettingInGame.vue')\r\n  },{\r\n    path: '/area-view',\r\n    component: ()=> import('@/views/AreaView.vue')\r\n  }\r\n]\r\n\r\nconst router = createRouter({\r\n  history: createWebHashHistory(),\r\n  routes\r\n})\r\n\r\nexport default router\r\n","import { createStore } from 'vuex'\r\n\r\nexport default createStore({\r\n  state: {\r\n  },\r\n  mutations: {\r\n  },\r\n  actions: {\r\n  },\r\n  modules: {\r\n  }\r\n})\r\n","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport store from './store'\r\nimport _ from 'lodash'\r\n\r\ncreateApp(App).use(store).use(router).mount('#app')\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./NewGameSetting.vue?vue&type=style&index=0&id=1a0e02bf&lang=less&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Index.vue?vue&type=style&index=0&id=1c181164&lang=less&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ArtifactPanel.vue?vue&type=style&index=0&id=52236f6a&lang=less&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./MaskLayer.vue?vue&type=style&index=0&id=8297ac88&lang=less&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./WorldMap.vue?vue&type=style&index=0&id=35952ac6&lang=less&scoped=true\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=20b3e771&lang=css\"","<template>\r\n  <div class=\"head\">\r\n    <!-- <template v-for=\"(e,i) in sortedLayer\" :key=\"i\" :style=\"{height:size+'px',width:size+'px'}\" >\r\n        <img v-if=\"skinLayer.indexOf(e)>=0\" class=\"skin\" :style=\"{filter:`drop-shadow(0px 100px 0px ${head['skin-color']})`}\"\r\n       :src=\"`head@256/${e}-skin${head[e]}.png`\" />\r\n      <img v-if=\"hairLayer.indexOf(e)>=0\" class=\"skin\" :style=\"{filter:`drop-shadow(0px 100px 0px ${head['hair-color']})`}\"\r\n       :src=\"`head@256/${e}-color${head[e]}.png`\" />\r\n      <img :src=\"`head@256/${e+head[e]}.png`\" />\r\n    </template> -->\r\n    <template v-for=\"(e,i) in sortedLayer\" :key=\"i\" :style=\"{height:size+'px',width:size+'px'}\" >\r\n      <img :src=\"`head@256/${e+head[e]}.png`\" />\r\n      <img v-if=\"hairLayer.indexOf(e)>=0\" class=\"skin\" :style=\"{filter:`drop-shadow(0px 200px 0px ${head['发色']})`}\"\r\n       :src=\"`head@256/${e+head[e]}.png`\" />\r\n      <img v-if=\"skinLayer.indexOf(e)>=0\" class=\"skin\" :style=\"{filter:`drop-shadow(0px 200px 0px ${head['肤色']})`}\"\r\n       :src=\"`head@256/${e+head[e]}.png`\" />\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  props: [\"character\",\"size\"],\r\n  setup(props) {\r\n    const head = props.character.appearance\r\n    const sortedLayer = '后发,脖子,耳朵,脸型,眉毛,眼睛,嘴,前发'.split(',')\r\n    const skinLayer = ['脸型','耳朵','脖子'], hairLayer = ['后发','前发']\r\n    return {\r\n      sortedLayer,\r\n      skinLayer,\r\n      hairLayer,\r\n      head,\r\n      size: props.size || 100\r\n    }\r\n  },\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.head {\r\n  position: relative;\r\n  overflow: hidden;\r\n  img {\r\n    position: absolute;\r\n    width: 100%;\r\n    left: 0;\r\n  }\r\n  .skin {\r\n    //filter: drop-shadow(0px 100px 0px black);\r\n    transform: translateY(-200px);\r\n  }\r\n}\r\n</style>","import { render } from \"./CharacterAvater.vue?vue&type=template&id=1f125ef4&scoped=true\"\nimport script from \"./CharacterAvater.vue?vue&type=script&lang=js\"\nexport * from \"./CharacterAvater.vue?vue&type=script&lang=js\"\n\nimport \"./CharacterAvater.vue?vue&type=style&index=0&id=1f125ef4&lang=less&scoped=true\"\n\nimport exportComponent from \"C:\\\\myDevelopment\\\\vscode\\\\fantastic-life\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1f125ef4\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CharacterAvater.vue?vue&type=style&index=0&id=1f125ef4&lang=less&scoped=true\"","<template>\r\n  <template v-if=\"type=='新游戏参数'\">\r\n    <new-game-setting></new-game-setting>\r\n  </template>\r\n  <div v-if=\"type=='map'\" class=\"board\"><world-map></world-map></div>\r\n  <div v-if=\"type=='interact'\" class=\"board\"><interact-with :character=\"data\"></interact-with></div>\r\n  <div v-if=\"type=='邀约面板'\" class=\"board\">\r\n    我的邀约\r\n    <div v-for=\"invation in you.invations\" :key=\"invation\">\r\n      {{invation.content}}\r\n      {{invation.A.name}}->{{invation.B.name}}\r\n      <div v-if=\"you==invation.A\">待对方回应</div>\r\n      <div v-if=\"you==invation.B && !invation.replay\">\r\n        <div @click=\"you.回应邀约(invation,'ok')\">同意</div>\r\n        <div @click=\"you.回应邀约(invation,'no')\">拒绝</div>\r\n      </div>\r\n      <div v-if=\"invation.replay\">\r\n        已{{invation.replay=='ok'?'同意':'拒绝'}}\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div v-if=\"type=='artifact'\" class=\"board\">\r\n    <artifact-panel :artifact=\"data\"></artifact-panel>\r\n  </div>\r\n  <div v-if=\"type=='house'\" class=\"board\">\r\n    <home-panel></home-panel>\r\n  </div>\r\n  <div v-if=\"type=='warehouse'\" class=\"board\">\r\n    <warehouse></warehouse>\r\n  </div>\r\n  <div v-if=\"type=='ChooseOccupation'\">\r\n    <choose-occupation></choose-occupation>\r\n  </div>\r\n  <div v-if=\"type=='市场'\" class=\"board market\">\r\n    <div class=\"title\">{{you.area.name}}市场</div>\r\n    <div class=\"content\">\r\n      <div v-for=\"(e,i) in you.area.市场\" :key=\"i\" class=\"cell\">\r\n        <div>{{e.物品}}</div>\r\n        <div>市场价: {{e.市场价}}</div>\r\n        <div>市场量: {{e.市场量}}</div>\r\n        <button @click=\"you.从当地市场买东西(e.物品,100)\">购买</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, reactive, inject } from 'vue'\r\nimport Warehouse from './Warehouse.vue'\r\nimport NewGameSetting from './NewGameSetting.vue'\r\nimport InteractWith from './InteractWith.vue'\r\nimport WorldMap from './WorldMap.vue'\r\nimport ArtifactPanel from './ArtifactPanel.vue'\r\nimport HomePanel from './HomePanel.vue'\r\nimport ChooseOccupation from './ChooseOccupation.vue'\r\nexport default {\r\n  props: ['type','data'],\r\n  components: {\r\n    Warehouse,\r\n    NewGameSetting,\r\n    InteractWith,\r\n    WorldMap,\r\n    ArtifactPanel,\r\n    HomePanel,\r\n    ChooseOccupation\r\n  },\r\n  setup(props) {\r\n    const you = inject('Manager').value.you\r\n    return {\r\n      type: props.type,\r\n      data: props.data,\r\n      you\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.board {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 10%;\r\n  right: 10%;\r\n  top: 10%;\r\n  bottom: 10%;\r\n  border: @borderStyle;\r\n  background-color: #f4fff4;\r\n  overflow: hidden; \r\n  .title {\r\n    position: relative;\r\n    font-size: 20px;\r\n    margin: 10px 0;\r\n    text-align: center;\r\n  }\r\n  .content {\r\n    position: relative;\r\n    margin-top: 40px;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: center;\r\n    align-items: center;  \r\n    .cell {\r\n      width: 50px;\r\n      height: 50px;\r\n    }\r\n  }\r\n}\r\n\r\n.market {\r\n  font-size: 12px;\r\n  .content {\r\n    .cell {\r\n      border: grey 1px solid;\r\n      width: 100px;\r\n      height: 100px;\r\n    }\r\n  }\r\n}\r\n</style>","<template>\r\n  <div class=\"title\">我家仓库</div>\r\n  <div class=\"content\">\r\n    <div v-for=\"(e,i) in you.家.warehouse\" :key=\"i\" class=\"item-warehouse\">\r\n      {{e.类型}}: {{e.number}}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { inject } from 'vue'\r\nexport default {\r\n  setup() {\r\n    return {\r\n      you: inject('Manager').value.you\r\n    }\r\n  },\r\n}\r\n</script>","import { render } from \"./Warehouse.vue?vue&type=template&id=0014967f\"\nimport script from \"./Warehouse.vue?vue&type=script&lang=js\"\nexport * from \"./Warehouse.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\myDevelopment\\\\vscode\\\\fantastic-life\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"board-in-mask\">\r\n    <div class=\"title\">参数自定义与确认</div>\r\n      <div v-for=\"(e,i) in Object.keys(config)\" :key=\"i\" class=\"cell\">\r\n      {{e}}: \r\n      <button class=\"less-more\" @click=\"setting(e,-1)\">&lt;</button>\r\n      {{config[e]}}\r\n      <button class=\"less-more\" @click=\"setting(e,1)\">&gt;</button>\r\n    </div>\r\n    <button @click=\"newGame(config)\">创建世界</button>\r\n  </div>  \r\n</template>\r\n\r\n<script>\r\nimport { reactive, inject } from 'vue'\r\nexport default {\r\n  setup() {\r\n    const config = reactive({\r\n      \"快进到某年\": 1,\r\n      \"初始角色数\": 10\r\n    })\r\n    const setting = (e, num)=>{\r\n      config[e] += num\r\n      if (config[e]<0 || config[e]>20) {\r\n        config[e] -= num\r\n      }\r\n    }\r\n    return {\r\n      config,\r\n      newGame: inject(\"newGame\"),\r\n      setting\r\n    }\r\n  },\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.board-in-mask {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-around;\r\n}\r\n</style>","import { render } from \"./NewGameSetting.vue?vue&type=template&id=1a0e02bf&scoped=true\"\nimport script from \"./NewGameSetting.vue?vue&type=script&lang=js\"\nexport * from \"./NewGameSetting.vue?vue&type=script&lang=js\"\n\nimport \"./NewGameSetting.vue?vue&type=style&index=0&id=1a0e02bf&lang=less&scoped=true\"\n\nimport exportComponent from \"C:\\\\myDevelopment\\\\vscode\\\\fantastic-life\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1a0e02bf\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"interact-board\">\r\n    <div class=\"character-name\">{{character.name}}</div>\r\n    <character-avater :character=\"character\" size=\"200\" class=\"avater\"></character-avater>\r\n    <template v-for=\"interaction in character.interactions\" :key=\"interaction\">\r\n      <div v-if=\"interaction.active\" class=\"button\" @click=\"interact(interaction)\">\r\n        {{interaction.request}}\r\n      </div>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CharacterAvater from './CharacterAvater.vue'\r\nimport { inject } from 'vue'\r\nexport default {\r\n  props: ['character'],\r\n  components: {\r\n    CharacterAvater\r\n  },\r\n  setup(props) {\r\n    const you = inject('Manager').value.you\r\n    const setMaskLayer = inject('setMaskLayer')\r\n    const interact = (interaction) => {\r\n      you.interactWith(props.character,interaction.request)\r\n      setMaskLayer()\r\n    }\r\n    return {\r\n      interact\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.interact-board {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  .character-name {\r\n    font-size: 30px;\r\n    font-weight: 900;\r\n    margin: 10px 0;\r\n  }\r\n  .avater {\r\n    width: 200px;\r\n    height: 200px;\r\n  }\r\n  .button {\r\n    background-color: @themeColor;\r\n    margin: 10px;\r\n    padding: 10px;\r\n    border-radius: 5px;\r\n  }\r\n}\r\n</style>","import { render } from \"./InteractWith.vue?vue&type=template&id=184f8eff&scoped=true\"\nimport script from \"./InteractWith.vue?vue&type=script&lang=js\"\nexport * from \"./InteractWith.vue?vue&type=script&lang=js\"\n\nimport \"./InteractWith.vue?vue&type=style&index=0&id=184f8eff&lang=less&scoped=true\"\n\nimport exportComponent from \"C:\\\\myDevelopment\\\\vscode\\\\fantastic-life\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-184f8eff\"]])\n\nexport default __exports__","<template>\r\n  世界地图\r\n  <div class=\"area-list\">\r\n    <div v-for=\"(area,i) in Manager.World.areas\" :key=\"i\"\r\n      :class=\"{'area-panel':true,'current-position':Manager.you.area==area}\">\r\n      {{area.name}}\r\n      <span @click=\"Manager.you.goTo(area)\" class=\"goto-button\">前往</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { inject } from 'vue'\r\nexport default {\r\n  setup() {\r\n    const Manager = inject('Manager').value\r\n    return {\r\n      Manager\r\n    }\r\n  },\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.area-list {\r\n  display: flex;\r\n  flex-shrink: 0;\r\n  .area-panel {\r\n    margin: 5px 10px;\r\n    padding: 5px 10px;\r\n    border: 2px solid @themeColor;\r\n    .goto-button {\r\n      background: @themeColor;\r\n      height: auto;\r\n      font-size: 12px;\r\n    }\r\n  }\r\n  .current-position {\r\n  }\r\n}\r\n</style>","import { render } from \"./WorldMap.vue?vue&type=template&id=35952ac6&scoped=true\"\nimport script from \"./WorldMap.vue?vue&type=script&lang=js\"\nexport * from \"./WorldMap.vue?vue&type=script&lang=js\"\n\nimport \"./WorldMap.vue?vue&type=style&index=0&id=35952ac6&lang=less&scoped=true\"\n\nimport exportComponent from \"C:\\\\myDevelopment\\\\vscode\\\\fantastic-life\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-35952ac6\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"title\">{{artifact.name}}</div>\r\n  <div>结构：{{artifact.structure}}</div>\r\n  <div>建造材料：{{artifact.material}}</div>\r\n  <div class=\"operator-board\">\r\n    <div v-if=\"artifact.structure=='农田'\">\r\n      <div v-if=\"artifact.warehouse[0]\">\r\n        作物：{{artifact.warehouse[0].name}} <br>\r\n        成熟度：{{artifact.warehouse[0].maturity}}<br>\r\n        状态：{{artifact.warehouse[0].status}}<br>\r\n        <button @click=\"Manager.you.harvest(artifact)\">收获</button>\r\n      </div>\r\n      <div v-if=\"artifact.warehouse.length==0\">\r\n        <div v-for=\"plant in Manager.creature_prefabs.filter(e=>e.domain=='plant')\" :key=\"plant\" class=\"collapse-accordion\">\r\n          <div class=\"panel-title\" @click=\"chosen=plant\">{{plant.name}}</div>\r\n          <div class=\"panel-content\" v-if=\"chosen==plant\">\r\n            <div>可播种于{{plant.播种月份}}月</div>\r\n            <div>生长时间{{plant.生长天数}}天</div>\r\n            <div>产出【{{plant.产出}}】*{{plant.产量}}</div>\r\n            <button @click=\"Manager.you.sow(artifact,plant.name)\">种植</button>\r\n            </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div v-if=\"artifact.structure=='商铺'\">\r\n      商品\r\n      <div v-if=\"artifact.warehouse[0]\">\r\n        {{artifact.warehouse[0].type}}\r\n      </div>\r\n      <div v-if=\"artifact.warehouse.length==0\">\r\n        <button>上架</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, inject } from 'vue'\r\nexport default {\r\n  props: ['artifact'],\r\n  setup(props) {\r\n    console.log(props)\r\n    const chosen = ref(null)\r\n    return {\r\n      artifact: props.artifact,\r\n      Manager: inject('Manager'),\r\n      chosen\r\n    }\r\n  },\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.operator-board {\r\n  position: absolute;\r\n  bottom: 0;\r\n  height: 300px;\r\n  width: 100%;\r\n  background-color: @lighterThemeColor;\r\n}\r\n.collapse-accordion {\r\n  .panel-title {\r\n    font-size: 20px;\r\n  }\r\n  .panel-content {\r\n    display: flex;\r\n    justify-content: space-around;\r\n    flex-wrap: wrap;\r\n    span {\r\n      padding: 0 2px;\r\n    }\r\n    button {\r\n      .small-button;\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./ArtifactPanel.vue?vue&type=template&id=52236f6a&scoped=true\"\nimport script from \"./ArtifactPanel.vue?vue&type=script&lang=js\"\nexport * from \"./ArtifactPanel.vue?vue&type=script&lang=js\"\n\nimport \"./ArtifactPanel.vue?vue&type=style&index=0&id=52236f6a&lang=less&scoped=true\"\n\nimport exportComponent from \"C:\\\\myDevelopment\\\\vscode\\\\fantastic-life\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-52236f6a\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"title\">家里</div>\r\n  <div>类型：{{you.家.structure}}</div>\r\n  <div>人口:\r\n    <span v-for=\"e in you.家.使用权\" :key=\"e\">| {{e.name}} |</span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { inject } from 'vue'\r\nexport default {\r\n  setup() {\r\n    return {\r\n      you: inject('Manager').value.you\r\n    }\r\n  },\r\n}\r\n</script>","import { render } from \"./HomePanel.vue?vue&type=template&id=3da1d7ba\"\nimport script from \"./HomePanel.vue?vue&type=script&lang=js\"\nexport * from \"./HomePanel.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\myDevelopment\\\\vscode\\\\fantastic-life\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"board\">\r\n    <div v-for=\"(e,i) in Manager.主职业信息表\" :key=\"i\">\r\n      {{e.occupation}}\r\n      <button class=\"small-button\" @click=\"切换职业(e.occupation)\">选择</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { inject } from 'vue'\r\nexport default {\r\n  setup() {\r\n    const Manager = inject('Manager')\r\n    const setMaskLayer = inject('setMaskLayer')\r\n    const 切换职业 = (occupation)=> {\r\n      Manager.value.you.给自己确定一个职业(occupation)\r\n      setMaskLayer()\r\n    }\r\n    return {\r\n      Manager,\r\n      切换职业\r\n    }\r\n  }\r\n}\r\n</script>","import { render } from \"./ChooseOccupation.vue?vue&type=template&id=ea2ccfb6\"\nimport script from \"./ChooseOccupation.vue?vue&type=script&lang=js\"\nexport * from \"./ChooseOccupation.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\myDevelopment\\\\vscode\\\\fantastic-life\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./MaskLayer.vue?vue&type=template&id=8297ac88&scoped=true\"\nimport script from \"./MaskLayer.vue?vue&type=script&lang=js\"\nexport * from \"./MaskLayer.vue?vue&type=script&lang=js\"\n\nimport \"./MaskLayer.vue?vue&type=style&index=0&id=8297ac88&lang=less&scoped=true\"\n\nimport exportComponent from \"C:\\\\myDevelopment\\\\vscode\\\\fantastic-life\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8297ac88\"]])\n\nexport default __exports__"],"sourceRoot":""}